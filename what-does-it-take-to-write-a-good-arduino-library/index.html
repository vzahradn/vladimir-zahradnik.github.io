<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8d90a1693e0a40b71e2a.css">@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}[data-rmiz-wrap=hidden],[data-rmiz-wrap=visible]{position:relative;display:inline-flex;align-items:flex-start}[data-rmiz-wrap=hidden]{visibility:hidden}[data-rmiz-overlay]{position:fixed;top:0;right:0;bottom:0;left:0;width:100%;height:100%;transition-property:background-color}[data-rmiz-btn-close],[data-rmiz-btn-open]{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:0;padding:0;border:none;border-radius:0;font:inherit;color:inherit;background:none;-webkit-appearance:none;appearance:none}[data-rmiz-btn-open]{cursor:zoom-in}[data-rmiz-btn-close]{cursor:zoom-out}[data-rmiz-modal-content]{position:absolute;transition-property:transform;transform-origin:center center}</style><meta name="generator" content="Gatsby 2.24.80"/><title data-react-helmet="true">What does it take to write a good Arduino library?</title><meta data-react-helmet="true" charSet="utf-8"/><meta data-react-helmet="true" http-equiv="X-UA-Compatible" content="IE=edge"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="theme-color" content="#fff"/><meta data-react-helmet="true" itemProp="name" content="What does it take to write a good Arduino library?"/><meta data-react-helmet="true" itemProp="description" content="Arduino library should be easy to use, well documented, and covered with unit tests. How to do it?"/><meta data-react-helmet="true" itemProp="image" content="https://www.zahradnik.io/static/4a53e73d8e93bf3d31d2b336963bca73/0ff54/hero.jpg"/><meta data-react-helmet="true" name="description" content="Arduino library should be easy to use, well documented, and covered with unit tests. How to do it?"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="Vladimír Záhradník"/><meta data-react-helmet="true" name="twitter:title" content="What does it take to write a good Arduino library?"/><meta data-react-helmet="true" name="twitter:description" content="Arduino library should be easy to use, well documented, and covered with unit tests. How to do it?"/><meta data-react-helmet="true" name="twitter:creator" content="https://twitter.com/VladoZahradnik"/><meta data-react-helmet="true" name="twitter:image" content="https://www.zahradnik.io/static/4a53e73d8e93bf3d31d2b336963bca73/0ff54/hero.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="What does it take to write a good Arduino library?"/><meta data-react-helmet="true" property="og:url" content="https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library"/><meta data-react-helmet="true" property="og:image" content="https://www.zahradnik.io/static/4a53e73d8e93bf3d31d2b336963bca73/0ff54/hero.jpg"/><meta data-react-helmet="true" property="og:description" content="Arduino library should be easy to use, well documented, and covered with unit tests. How to do it?"/><meta data-react-helmet="true" property="og:site_name" content="Vladimír Záhradník"/><meta data-react-helmet="true" name="article:published_time" content="November 27th, 2019"/><meta data-react-helmet="true" name="twitter:label1" value="Reading time"/><meta data-react-helmet="true" name="twitter:data1" value="15 min read"/><script data-react-helmet="true" type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.zahradnik.io/#organization","name":"Vladimír Záhradník | Blog","url":"https://www.zahradnik.io","sameAs":["https://twitter.com/VladoZahradnik","https://github.com/vzahradnik","https://www.linkedin.com/in/vladimirzahradnik","https://medium.com/@vladimir.zahradnik"],"logo":{"@type":"ImageObject","@id":"https://www.zahradnik.io/#logo","inLanguage":"en-US","url":"https://www.zahradnik.io/icons/icon-512x512.png","width":512,"height":512,"caption":"Vladimír Záhradník | Blog"},"image":{"@id":"https://www.zahradnik.io/#logo"}},{"@type":"WebSite","@id":"https://www.zahradnik.io/#website","url":"https://www.zahradnik.io","name":"Vladimír Záhradník","description":"A personal blog about everything around us.","publisher":{"@id":"https://www.zahradnik.io/#organization"},"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#primaryimage","inLanguage":"en-US","url":"https://www.zahradnik.io/static/4a53e73d8e93bf3d31d2b336963bca73/0ff54/hero.jpg","width":1200,"height":628},{"@type":["WebPage"],"@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#webpage","url":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library","name":"What does it take to write a good Arduino library?","isPartOf":{"@id":"https://www.zahradnik.io/#website"},"primaryImageOfPage":{"@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#primaryimage"},"datePublished":"2019-11-27T00:00:00.000Z","dateModified":"2019-11-27T00:00:00.000Z","description":"Arduino library should be easy to use, well documented, and covered with unit tests. How to do it?","breadcrumb":{"@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#breadcrumb"},"inLanguage":"en-US"},{"@type":"BreadcrumbList","@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://www.zahradnik.io","url":"https://www.zahradnik.io","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library","url":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library","name":"What does it take to write a good Arduino library?"}}]},{"@type":"Article","@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#article","isPartOf":{"@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#webpage"},"author":{"@id":"https://www.zahradnik.io/#/schema/authors/vladimir-zahradnik"},"headline":"What does it take to write a good Arduino library?","datePublished":"2019-11-27T00:00:00.000Z","dateModified":"2019-11-27T00:00:00.000Z","mainEntityOfPage":{"@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#webpage"},"publisher":{"@id":"https://www.zahradnik.io/#organization"},"image":{"@id":"https://www.zahradnik.io/what-does-it-take-to-write-a-good-arduino-library/#primaryimage"},"inLanguage":"en-US"},{"@type":["Person"],"@id":"https://www.zahradnik.io/#/schema/authors/vladimir-zahradnik","name":"Vladimír Záhradník","image":{"@type":"ImageObject","@id":"https://www.zahradnik.io/#personlogo","inLanguage":"en-US","caption":"Vladimír Záhradník"},"description":"Hi there, I'm Vladimír. I work as a freelance software engineer; at the time,
I focus mostly on mobile and embedded development. I always strive to overcome my
limits — that is the reason why I'm so interested in startups and entrepreneurship.
Also, I love music, especially live events in the clubs.
","sameAs":["https://twitter.com/VladoZahradnik","https://github.com/vzahradnik","https://www.linkedin.com/in/vladimirzahradnik","https://medium.com/@vladimir.zahradnik"]}]}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=e9b896c06af37ebd89694d45ca2b159c" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#fff"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=e9b896c06af37ebd89694d45ca2b159c"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-4601630eb1bd89bd8760.js"/><link as="script" rel="preload" href="/framework-66de6f443629588fba4e.js"/><link as="script" rel="preload" href="/app-6ea4aa9ce8b5f4990bb8.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/f0e45107-02a22ac72de90821f3f0.js"/><link as="script" rel="preload" href="/commons-1876a5b8a13b61bf8459.js"/><link as="script" rel="preload" href="/0e7714856bbb34dfc7797cbbee4f33853b2e01ba-8c0ace3441f40b01e24e.js"/><link as="script" rel="preload" href="/component---src-narative-gatsby-theme-novela-templates-article-template-tsx-8a86e49079b1e2404ed2.js"/><link as="fetch" rel="preload" href="/page-data/what-does-it-take-to-write-a-good-arduino-library/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1143375668.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1491088328.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2068910035.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2068910035.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2444214635.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="acmv4e">body{--theme-ui-colors-prism-token:var(--theme-ui-colors-prism-token,#fff);--theme-ui-colors-prism-languageJavascript:var(--theme-ui-colors-prism-languageJavascript,#e8696b);--theme-ui-colors-prism-javascript:var(--theme-ui-colors-prism-javascript,#e8696b);--theme-ui-colors-prism-background:var(--theme-ui-colors-prism-background,#292c34);--theme-ui-colors-prism-comment:var(--theme-ui-colors-prism-comment,#5e6a76);--theme-ui-colors-prism-string:var(--theme-ui-colors-prism-string,#a8e2a8);--theme-ui-colors-prism-var:var(--theme-ui-colors-prism-var,#b3bac5);--theme-ui-colors-prism-number:var(--theme-ui-colors-prism-number,#e4854d);--theme-ui-colors-prism-constant:var(--theme-ui-colors-prism-constant,#b3bac5);--theme-ui-colors-prism-plain:var(--theme-ui-colors-prism-plain,#fff);--theme-ui-colors-prism-doctype:var(--theme-ui-colors-prism-doctype,#e8696b);--theme-ui-colors-prism-tag:var(--theme-ui-colors-prism-tag,#e8696b);--theme-ui-colors-prism-keyword:var(--theme-ui-colors-prism-keyword,#d49fd4);--theme-ui-colors-prism-boolean:var(--theme-ui-colors-prism-boolean,#ff5874);--theme-ui-colors-prism-function:var(--theme-ui-colors-prism-function,#5F8DC3);--theme-ui-colors-prism-parameter:var(--theme-ui-colors-prism-parameter,#F9965D);--theme-ui-colors-prism-className:var(--theme-ui-colors-prism-className,#ffcf74);--theme-ui-colors-prism-attrName:var(--theme-ui-colors-prism-attrName,#bf87ba);--theme-ui-colors-prism-attrValue:var(--theme-ui-colors-prism-attrValue,#a8e2a8);--theme-ui-colors-prism-interpolation:var(--theme-ui-colors-prism-interpolation,#fff);--theme-ui-colors-prism-punctuation:var(--theme-ui-colors-prism-punctuation,#5FA8AA);--theme-ui-colors-prism-maybe-class-name:var(--theme-ui-colors-prism-maybe-class-name,#fff);--theme-ui-colors-prism-property:var(--theme-ui-colors-prism-property,#80cbc4);--theme-ui-colors-prism-propertyAccess:var(--theme-ui-colors-prism-propertyAccess,#fff);--theme-ui-colors-prism-namespace:var(--theme-ui-colors-prism-namespace,#b2ccd6);--theme-ui-colors-prism-highlight:var(--theme-ui-colors-prism-highlight,rgba(255,255,255,0.07));--theme-ui-colors-prism-highlightBorder:var(--theme-ui-colors-prism-highlightBorder,#e1bde2);--theme-ui-colors-prism-dom:var(--theme-ui-colors-prism-dom,#5F8DC3);--theme-ui-colors-prism-operator:var(--theme-ui-colors-prism-operator,#5FA8AA);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#000);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#73737D);--theme-ui-colors-grey:var(--theme-ui-colors-grey,#73737D);--theme-ui-colors-background:var(--theme-ui-colors-background,#fafafa);--theme-ui-colors-accent:var(--theme-ui-colors-accent,#6166DC);--theme-ui-colors-hover:var(--theme-ui-colors-hover,rgba(0,0,0,0.07));--theme-ui-colors-gradient:var(--theme-ui-colors-gradient,linear-gradient(180deg,rgba(217,219,224,0) 0%,#D9DBE0 100%));--theme-ui-colors-articleText:var(--theme-ui-colors-articleText,#08080B);--theme-ui-colors-track:var(--theme-ui-colors-track,rgba(8,8,11,0.3));--theme-ui-colors-progress:var(--theme-ui-colors-progress,#000);--theme-ui-colors-card:var(--theme-ui-colors-card,#fff);--theme-ui-colors-error:var(--theme-ui-colors-error,#EE565B);--theme-ui-colors-success:var(--theme-ui-colors-success,#46B17B);--theme-ui-colors-errorBackground:var(--theme-ui-colors-errorBackground,rgba(238,86,91,0.1));--theme-ui-colors-horizontalRule:var(--theme-ui-colors-horizontalRule,rgba(8,8,11,0.15));--theme-ui-colors-inputBackground:var(--theme-ui-colors-inputBackground,rgba(0,0,0,0.05));color:var(--theme-ui-colors-text,undefined);background-color:var(--theme-ui-colors-background,var(--theme-ui-colors-background,#fafafa));}body.theme-ui-dark{--theme-ui-colors-grey:var(--theme-ui-colors-modes-dark-grey,#73737D);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#fff);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#fff);--theme-ui-colors-accent:var(--theme-ui-colors-modes-dark-accent,#E9DAAC);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#111216);--theme-ui-colors-hover:var(--theme-ui-colors-modes-dark-hover,rgba(255,255,255,0.07));--theme-ui-colors-gradient:var(--theme-ui-colors-modes-dark-gradient,linear-gradient(180deg,#111216 0%,rgba(66,81,98,0.36) 100%));--theme-ui-colors-articleText:var(--theme-ui-colors-modes-dark-articleText,#fff);--theme-ui-colors-track:var(--theme-ui-colors-modes-dark-track,rgba(255,255,255,0.3));--theme-ui-colors-progress:var(--theme-ui-colors-modes-dark-progress,#fff);--theme-ui-colors-card:var(--theme-ui-colors-modes-dark-card,#1D2128);--theme-ui-colors-error:var(--theme-ui-colors-modes-dark-error,#EE565B);--theme-ui-colors-success:var(--theme-ui-colors-modes-dark-success,#46B17B);--theme-ui-colors-errorBackground:var(--theme-ui-colors-modes-dark-errorBackground,rgba(238,86,91,0.1));--theme-ui-colors-horizontalRule:var(--theme-ui-colors-modes-dark-horizontalRule,rgba(255,255,255,0.15));--theme-ui-colors-inputBackground:var(--theme-ui-colors-modes-dark-inputBackground,rgba(255,255,255,0.07));}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1birv2v">.css-1birv2v{position:relative;background:var(--theme-ui-colors-background,#fafafa);-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);min-height:100vh;}</style><div class="css-1birv2v e1u54h6q0"><style data-emotion-css="4x9btz">:root{--ease-in-quad:cubic-bezier(0.55,0.085,0.68,0.53);--ease-in-quart:cubic-bezier(0.895,0.03,0.685,0.22);--ease-out-quad:cubic-bezier(0.25,0.46,0.45,0.94);--ease-out-quart:cubic-bezier(0.165,0.84,0.44,1);--ease-in-out-quad:cubic-bezier(0.455,0.03,0.515,0.955);--ease-in-out-quart:cubic-bezier(0.77,0,0.175,1);}@font-face{font-family:"-apple-system","BlinkMacSystemFont","San Francisco","Helvetica Neue","Helvetica","Ubuntu","Roboto","Noto","Segoe UI","Arial",sans-serif;font-weight:400;font-style:normal;}*,*:before,*:after{box-sizing:inherit;margin:0;padding:0;font-size:inherit;font-display:block;}:root{-ms-overflow-style:-ms-autohiding-scrollbar;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;cursor:default;font-size:0.625rem;line-height:1.4;}body{font-family:"-apple-system","BlinkMacSystemFont","San Francisco","Helvetica Neue","Helvetica","Ubuntu","Roboto","Noto","Segoe UI","Arial",sans-serif;font-size:1.6rem;margin:0;font-weight:400;height:100%;}article{word-break:break-word;}button,a{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}a:focus{outline:none;}audio,canvas,iframe,img,svg,video{vertical-align:middle;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;}input,textarea,select,button{font-family:"-apple-system","BlinkMacSystemFont","San Francisco","Helvetica Neue","Helvetica","Ubuntu","Roboto","Noto","Segoe UI","Arial",sans-serif;}.underline{-webkit-text-decoration:underline;text-decoration:underline;}button,input,select,textarea{color:inherit;font-family:inherit;font-style:inherit;font-weight:inherit;}code,kbd,pre,samp{font-family:monospace;}fieldset,button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;outline:none;background:transparent;}table{border-collapse:separate;border-spacing:0;}audio:not([controls]){display:none;}details{display:block;}input:focus,input:active{outline:none;}input[type="number"]{width:auto;}img.Image__Zoom ~ div{background:transparent !important;}</style><style data-emotion-css="il8sto">.css-il8sto{width:100%;max-width:1220px;margin:0 auto;padding:0 4rem;}@media (max-width:66.875em){.css-il8sto{max-width:850px;}}@media (max-width:45.9375em){.css-il8sto{padding:0 4rem;max-width:567px;}}@media (max-width:33.75em){.css-il8sto{max-width:100%;}}</style><section class="css-il8sto e9w9r0m0"><style data-emotion-css="ysq45m">.css-ysq45m{position:relative;z-index:100;padding-top:100px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:80em){.css-ysq45m{padding-top:50px;}}@media screen and (max-height:800px){.css-ysq45m{padding-top:50px;}}</style><div class="css-ysq45m e1q3p6rm1"><style data-emotion-css="dj9cqc">.css-dj9cqc{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;left:0;}@media (max-width:80em){.css-dj9cqc{left:0;}}.css-dj9cqc[data-a11y="true"]:focus::after{content:"";position:absolute;left:-10%;top:-30%;width:120%;height:160%;border:2px solid var(--theme-ui-colors-accent,#6166DC);background:rgba(255,255,255,0.01);border-radius:5px;}.css-dj9cqc:hover .e1q3p6rm0{-webkit-transform:translateX(-3px);-ms-transform:translateX(-3px);transform:translateX(-3px);}</style><a data-a11y="false" title="Navigate back to the homepage" aria-label="Navigate back to the homepage" back="false" class="css-dj9cqc e1q3p6rm2" href="/"><style data-emotion-css="rk6qdu">.css-rk6qdu .Logo__Mobile{display:none;}@media (max-width:45.9375em){.css-rk6qdu .Logo__Desktop{display:none;}.css-rk6qdu .Logo__Mobile{display:block;}}</style><div class="css-rk6qdu e1e8om060"><svg width="145" height="23" viewBox="0 0 145 23" fill="none" xmlns="http://www.w3.org/2000/svg" class="Logo__Desktop"><path d="M 1.1328125 1.2929688 L 11.5 22.410156 L 21.867188 1.2929688 L 1.1328125 1.2929688 z M 5.4882812 3.21875 L 17.113281 3.21875 C 17.113281 3.21875 11.896568 10.912086 9.9960938 12.291016 C 8.954928 13.046666 13.689453 12.654297 13.689453 12.654297 L 12.21875 15.736328 L 9.4804688 13.144531 C 9.4804687 13.144531 9.098154 12.731459 9.171875 12.511719 C 10.244761 9.3142688 14.806373 4.8795419 14.25 4.2011719 C 13.648592 3.4679219 6.3203125 5.1445312 6.3203125 5.1445312 L 5.4882812 3.21875 z " fill="#3771c8ff"></path><path d="M 53.746094,3.09375 51.761719,3.4355469 V 19.648438 h 1.984375 v -9.214844 c 0.07111,-0.02844 0.185353,-0.06475 0.341797,-0.107422 0.170666,-0.04266 0.355576,-0.07702 0.554687,-0.105469 0.213333,-0.04266 0.432601,-0.07897 0.660156,-0.107422 0.227556,-0.02845 0.448776,-0.04297 0.66211,-0.04297 0.526222,10e-7 0.966709,0.07067 1.322265,0.212891 0.355556,0.128 0.640183,0.341958 0.853516,0.640625 0.213333,0.298667 0.361932,0.690272 0.447266,1.173828 0.09956,0.483556 0.15039,1.06538 0.15039,1.748047 v 5.802735 h 1.984375 v -6.228516 c 0,-0.753777 -0.07262,-1.442582 -0.214844,-2.06836 C 60.36559,10.725784 60.117275,10.190889 59.761719,9.75 59.420385,9.2948889 58.958111,8.9468559 58.375,8.7050781 c -0.583111,-0.256 -1.315488,-0.3828125 -2.197266,-0.3828125 -0.412444,0 -0.831145,0.04162 -1.257812,0.1269532 -0.412444,0.071111 -0.80405,0.1780902 -1.173828,0.3203124 z m 38.720703,0 -1.984375,0.3417969 V 9.046875 C 90.240644,8.8904305 89.870824,8.7273073 89.373047,8.5566406 88.889491,8.385974 88.3275,8.3007812 87.6875,8.3007812 c -0.796444,1e-7 -1.507035,0.1413368 -2.132812,0.4257813 -0.611556,0.2844444 -1.131928,0.6833124 -1.558594,1.1953125 -0.426668,0.512 -0.752914,1.122874 -0.980469,1.833984 -0.213333,0.711112 -0.320313,1.494323 -0.320313,2.347657 0,0.896 0.128766,1.706307 0.384766,2.43164 0.270222,0.711112 0.64535,1.314722 1.128906,1.8125 0.483556,0.497778 1.067334,0.882121 1.75,1.152344 0.682667,0.270222 1.451355,0.40625 2.304688,0.40625 0.924445,0 1.742014,-0.06536 2.453125,-0.193359 0.711111,-0.128 1.294889,-0.254813 1.75,-0.382813 z m 23.039063,0 -1.98438,0.3417969 V 19.648438 h 1.98438 v -5.332032 c 0.39823,0.270223 0.81693,0.603731 1.25781,1.001953 0.44089,0.398223 0.87607,0.838711 1.30274,1.322266 0.42666,0.469333 0.83084,0.967919 1.21484,1.494141 0.39823,0.512 0.74821,1.015893 1.04687,1.513672 h 2.32422 c -0.28444,-0.497779 -0.63248,-1.030721 -1.04492,-1.59961 -0.41244,-0.583111 -0.85293,-1.152364 -1.32226,-1.707031 -0.45512,-0.568889 -0.92465,-1.094569 -1.40821,-1.578125 -0.46933,-0.483555 -0.91708,-0.887733 -1.34375,-1.214844 0.36978,-0.384 0.75944,-0.79013 1.17188,-1.216797 0.42666,-0.440888 0.84732,-0.874114 1.25976,-1.300781 0.41245,-0.440889 0.81132,-0.876068 1.19532,-1.3027344 0.384,-0.4266667 0.7393,-0.8163194 1.0664,-1.171875 h -2.32617 c -0.256,0.2986667 -0.56241,0.6466996 -0.91797,1.0449219 -0.35556,0.3840002 -0.73264,0.7881775 -1.13086,1.2148435 -0.39822,0.426667 -0.80239,0.847322 -1.21484,1.259766 l -1.13086,1.130859 z m -6.40039,0.8535156 c -0.35555,0 -0.66002,0.1215035 -0.91602,0.3632813 -0.24178,0.2275556 -0.36328,0.5412309 -0.36328,0.9394531 0,0.3982223 0.1215,0.7172066 0.36328,0.9589844 0.256,0.2275555 0.56047,0.3417968 0.91602,0.3417968 0.35556,0 0.65471,-0.1142413 0.89648,-0.3417968 0.256,-0.2417778 0.38477,-0.5607621 0.38477,-0.9589844 0,-0.3982222 -0.12877,-0.7118975 -0.38477,-0.9394531 -0.24177,-0.2417778 -0.54092,-0.3632813 -0.89648,-0.3632813 z M 44.210938,8.2792969 c -0.69689,0 -1.344073,0.056144 -1.941407,0.1699219 -0.597333,0.099555 -1.02525,0.2065347 -1.28125,0.3203124 l 0.234375,1.6425778 c 0.241778,-0.09955 0.604336,-0.19201 1.087891,-0.277343 0.497778,-0.09956 1.074293,-0.150391 1.728515,-0.150391 0.512,0 0.925393,0.079884 1.238282,0.236328 0.327111,0.142223 0.582689,0.339703 0.767578,0.595703 0.184889,0.241778 0.311701,0.526407 0.382812,0.853516 0.07111,0.312889 0.107422,0.633826 0.107422,0.960937 v 0.554688 c -0.05689,-0.01422 -0.156606,-0.03601 -0.298828,-0.06445 -0.142223,-0.02844 -0.312608,-0.05749 -0.511719,-0.08594 -0.184889,-0.04267 -0.384323,-0.06976 -0.597656,-0.08398 -0.213333,-0.02845 -0.420029,-0.04297 -0.619141,-0.04297 -0.625777,0 -1.222126,0.06341 -1.791015,0.191406 -0.568889,0.128 -1.067474,0.327434 -1.494141,0.597657 -0.426666,0.270222 -0.767437,0.625517 -1.023437,1.066406 -0.241778,0.440889 -0.363281,0.96657 -0.363281,1.578125 0,0.64 0.106979,1.187467 0.320312,1.642578 0.213333,0.455111 0.512484,0.824931 0.896484,1.109375 0.384,0.270223 0.839012,0.469656 1.365235,0.597656 0.526222,0.128 1.102737,0.19336 1.728515,0.19336 0.440889,0 0.881377,-0.02179 1.322266,-0.06445 0.455111,-0.02844 0.873812,-0.06476 1.257812,-0.107421 0.384001,-0.04267 0.726724,-0.08429 1.025391,-0.126953 0.312889,-0.05689 0.553943,-0.10046 0.724609,-0.128907 v -6.933593 c 0,-0.625778 -0.07067,-1.195032 -0.21289,-1.707032 C 48.12145,10.290184 47.878443,9.8424338 47.537109,9.4726562 47.209998,9.0886562 46.76951,8.7987204 46.214844,8.5996094 45.674399,8.386276 45.007382,8.2792969 44.210938,8.2792969 Z m 31.550781,0 c -0.69689,0 -1.344073,0.056144 -1.941407,0.1699219 -0.597333,0.099555 -1.023296,0.2065347 -1.279296,0.3203124 l 0.234375,1.6425778 c 0.241778,-0.09955 0.604335,-0.19201 1.08789,-0.277343 0.497778,-0.09956 1.074294,-0.150391 1.728516,-0.150391 0.512,0 0.923439,0.079884 1.236328,0.236328 0.327111,0.142223 0.582689,0.339703 0.767578,0.595703 0.184889,0.241778 0.313655,0.526405 0.384766,0.853516 0.07111,0.312889 0.107422,0.633826 0.107422,0.960937 v 0.554688 c -0.05689,-0.01422 -0.156606,-0.03601 -0.298829,-0.06445 -0.142222,-0.02844 -0.312607,-0.05749 -0.511718,-0.08594 -0.184889,-0.04267 -0.384323,-0.06976 -0.597656,-0.08398 -0.213334,-0.02845 -0.42003,-0.04297 -0.619141,-0.04297 -0.625777,0 -1.222126,0.06341 -1.791016,0.191406 -0.568888,0.128 -1.067474,0.327434 -1.49414,0.597657 -0.426667,0.270222 -0.767438,0.625517 -1.023438,1.066406 -0.241778,0.440889 -0.363281,0.96657 -0.363281,1.578125 0,0.64 0.106979,1.187467 0.320312,1.642578 0.213334,0.455111 0.512485,0.824931 0.896485,1.109375 0.384,0.270223 0.839011,0.469656 1.365234,0.597656 0.526222,0.128 1.100785,0.19336 1.726563,0.19336 0.440888,0 0.88333,-0.02179 1.324218,-0.06445 0.455112,-0.02844 0.873813,-0.06476 1.257813,-0.107421 0.384,-0.04267 0.724771,-0.08429 1.023437,-0.126953 0.312889,-0.05689 0.555896,-0.10046 0.726563,-0.128907 v -6.933593 c 0,-0.625778 -0.07262,-1.195032 -0.214844,-1.707032 C 79.672231,10.290184 79.431177,9.8424338 79.089844,9.4726562 78.762732,9.0886562 78.322245,8.7987204 77.767578,8.5996094 77.227133,8.386276 76.558163,8.2792969 75.761719,8.2792969 Z m -7.722657,0.042969 c -0.867556,0 -1.648814,0.077931 -2.345703,0.234375 -0.696889,0.1422222 -1.280666,0.2980834 -1.75,0.46875 V 19.648438 h 1.984375 v -9.322266 c 0.113778,-0.02844 0.34757,-0.07733 0.703125,-0.148438 0.369778,-0.08533 0.739597,-0.128906 1.109375,-0.128906 0.568889,0 1.031163,0.04357 1.386719,0.128906 0.369777,0.07111 0.632618,0.13452 0.789063,0.191407 L 70.257812,8.640625 C 70.172479,8.612181 70.038404,8.5850853 69.853516,8.5566406 69.682849,8.5139742 69.490677,8.4776634 69.277344,8.4492188 69.06401,8.4065521 68.84279,8.3775033 68.615234,8.3632812 68.401901,8.3348366 68.209729,8.3222656 68.039062,8.3222659 Z m 32.255858,0 c -0.98133,0 -1.84778,0.063406 -2.601561,0.1914063 -0.753778,0.128 -1.359341,0.2495034 -1.814453,0.3632812 V 19.648438 h 1.984375 v -9.365235 c 0.07111,-0.01422 0.185349,-0.03405 0.341799,-0.0625 0.17066,-0.02845 0.35557,-0.05023 0.55469,-0.06445 0.21333,-0.02845 0.4326,-0.05023 0.66015,-0.06445 0.22756,-0.01422 0.44878,-0.02149 0.66211,-0.02149 0.52622,10e-7 0.96671,0.07067 1.32227,0.212891 0.35555,0.128 0.64018,0.341958 0.85351,0.640625 0.21334,0.298667 0.36193,0.690272 0.44727,1.173828 0.0996,0.483556 0.15039,1.06538 0.15039,1.748047 v 5.802735 h 1.98437 v -6.228516 c 0,-0.753777 -0.0726,-1.442582 -0.21484,-2.06836 -0.14222,-0.625779 -0.39054,-1.160674 -0.74609,-1.601563 -0.34134,-0.4551111 -0.80361,-0.8031441 -1.38672,-1.0449219 -0.58311,-0.256 -1.31549,-0.3828125 -2.19727,-0.3828122 z M 29.9375,8.5566406 v 1.6640624 h 5.482422 c -0.384,0.455111 -0.839012,1.017102 -1.365234,1.685547 -0.512001,0.654222 -1.044943,1.35755 -1.59961,2.111328 -0.540444,0.739555 -1.058863,1.486456 -1.55664,2.240234 -0.497779,0.753778 -0.918433,1.442583 -1.259766,2.06836 v 1.322266 h 8.470703 v -1.664063 h -6.101563 c 0.426667,-0.725333 0.916037,-1.484805 1.470704,-2.28125 0.568889,-0.796445 1.13088,-1.55787 1.685546,-2.283203 0.568889,-0.725333 1.096523,-1.387042 1.580079,-1.984375 0.497777,-0.597333 0.894692,-1.059608 1.193359,-1.386719 V 8.5566406 Z m 78.1875,0 V 19.648438 h 1.98438 V 8.5566406 Z M 87.943359,10.048828 c 0.540445,0 1.03903,0.09245 1.494141,0.277344 0.455111,0.184889 0.803144,0.37706 1.044922,0.576172 v 7.019531 c -0.199111,0.05689 -0.483738,0.113035 -0.853516,0.169922 -0.355556,0.04267 -0.803306,0.06445 -1.34375,0.06445 -1.066666,0 -1.920547,-0.348033 -2.560547,-1.044922 -0.64,-0.711111 -0.960937,-1.71359 -0.960937,-3.007812 0,-0.568889 0.0581,-1.103785 0.171875,-1.601563 0.113778,-0.497778 0.298687,-0.923741 0.554687,-1.279297 0.256,-0.369778 0.582247,-0.654405 0.980469,-0.853515 0.412445,-0.213334 0.903768,-0.320313 1.472656,-0.320313 z m -43.263671,4.458984 c 0.455111,0 0.839455,0.02905 1.152343,0.08594 0.327112,0.04267 0.560903,0.09881 0.703125,0.169922 v 3.30664 c -0.241777,0.05689 -0.548191,0.10046 -0.917968,0.128907 -0.355557,0.01422 -0.766995,0.02148 -1.236329,0.02148 -0.782222,0 -1.400357,-0.136027 -1.855468,-0.40625 -0.455111,-0.284444 -0.683594,-0.781076 -0.683594,-1.492187 0,-0.384 0.09246,-0.690413 0.277344,-0.917969 0.184888,-0.241777 0.413371,-0.426688 0.683593,-0.554688 0.284444,-0.142222 0.588905,-0.234677 0.916016,-0.277343 0.341333,-0.04267 0.662271,-0.06445 0.960938,-0.06445 z m 31.550781,0 c 0.455111,0 0.839455,0.02905 1.152343,0.08594 0.327112,0.04267 0.562857,0.09881 0.705079,0.169922 v 3.30664 c -0.241778,0.05689 -0.548192,0.10046 -0.917969,0.128907 -0.355556,0.01422 -0.766995,0.02148 -1.236328,0.02148 -0.782222,0 -1.402311,-0.136027 -1.857422,-0.40625 -0.455111,-0.284444 -0.681641,-0.781076 -0.681641,-1.492187 0,-0.384 0.09246,-0.690413 0.277344,-0.917969 0.184889,-0.241777 0.411418,-0.426688 0.681641,-0.554688 0.284444,-0.142222 0.590857,-0.234677 0.917968,-0.277343 0.341334,-0.04267 0.660318,-0.06445 0.958985,-0.06445 z" fill="#000"></path><path d="m 130.7168,4.2246094 c -0.28445,0 -0.52745,0.099717 -0.72657,0.2988281 -0.1991,0.1848889 -0.29687,0.4424201 -0.29687,0.7695313 0,0.3271111 0.0978,0.5899514 0.29687,0.7890624 0.19912,0.184889 0.44212,0.2773438 0.72657,0.2773438 0.28444,0 0.52549,-0.092455 0.72461,-0.2773438 0.19911,-0.199111 0.29882,-0.4619513 0.29882,-0.7890624 0,-0.3271112 -0.0997,-0.5846424 -0.29882,-0.7695313 -0.19912,-0.1991111 -0.44017,-0.2988281 -0.72461,-0.2988281 z m 8.74609,4.1386718 c -0.73955,1e-7 -1.41578,0.14329 -2.02734,0.4277344 -0.61156,0.2702222 -1.1445,0.6618281 -1.59961,1.1738282 -0.44089,0.4977782 -0.78892,1.1013882 -1.04492,1.8125002 -0.24178,0.71111 -0.36329,1.499631 -0.36329,2.367187 0,0.867556 0.12151,1.65803 0.36329,2.369141 0.256,0.711111 0.60403,1.314723 1.04492,1.8125 0.45511,0.497778 0.98805,0.889383 1.59961,1.173828 0.61156,0.270222 1.28779,0.40625 2.02734,0.40625 0.73955,0 1.41578,-0.136028 2.02734,-0.40625 0.61156,-0.284445 1.13724,-0.67605 1.57813,-1.173828 0.45511,-0.497777 0.80314,-1.101389 1.04492,-1.8125 0.256,-0.711111 0.38477,-1.501585 0.38477,-2.369141 0,-0.867556 -0.12877,-1.656077 -0.38477,-2.367187 -0.24178,-0.711112 -0.58981,-1.314722 -1.04492,-1.8125002 -0.44089,-0.512 -0.96657,-0.903606 -1.57813,-1.1738282 -0.61156,-0.2844444 -1.28779,-0.4277344 -2.02734,-0.4277344 z M 130.0332,8.6191406 V 19.648438 h 1.38672 V 8.6191406 Z m 9.42969,1.0039063 c 1.09511,0 1.96352,0.4114391 2.60352,1.2363281 0.64,0.810667 0.95898,1.9056 0.95898,3.285156 0,1.379556 -0.31898,2.476443 -0.95898,3.28711 -0.64,0.810666 -1.50841,1.214843 -2.60352,1.214843 -1.09511,0 -1.96156,-0.404177 -2.60156,-1.214843 -0.64,-0.810667 -0.96094,-1.907554 -0.96094,-3.28711 0,-1.379556 0.32094,-2.474489 0.96094,-3.285156 0.64,-0.824889 1.50645,-1.2363281 2.60156,-1.2363281 z m -13.88867,7.9355471 c -0.36977,0 -0.65971,0.114241 -0.87305,0.341797 -0.19911,0.227555 -0.29883,0.50492 -0.29883,0.832031 0,0.327111 0.0997,0.604475 0.29883,0.832031 0.21334,0.227555 0.50328,0.341797 0.87305,0.341797 0.36978,0 0.6544,-0.114242 0.85351,-0.341797 0.21334,-0.227556 0.32032,-0.50492 0.32032,-0.832031 0,-0.327111 -0.10698,-0.604476 -0.32032,-0.832031 -0.19911,-0.227556 -0.48373,-0.341797 -0.85351,-0.341797 z" fill="#808080"></path></svg><svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg" class="Logo__Mobile"><path d="M 1.1328125 1.2929688 L 11.5 22.410156 L 21.867188 1.2929688 L 1.1328125 1.2929688 z M 5.4882812 3.21875 L 17.113281 3.21875 C 17.113281 3.21875 11.896568 10.912086 9.9960938 12.291016 C 8.954928 13.046666 13.689453 12.654297 13.689453 12.654297 L 12.21875 15.736328 L 9.4804688 13.144531 C 9.4804687 13.144531 9.098154 12.731459 9.171875 12.511719 C 10.244761 9.3142688 14.806373 4.8795419 14.25 4.2011719 C 13.648592 3.4679219 6.3203125 5.1445312 6.3203125 5.1445312 L 5.4882812 3.21875 z " fill="#3771c8ff"></path></svg></div><style data-emotion-css="10l5b14">.css-10l5b14{position:absolute;display:inline-block;opacity:0;width:0px;height:0px;visibility:hidden;overflow:hidden;}</style><span class="css-10l5b14 e1q3p6rm8">Navigate back to the homepage</span></a><style data-emotion-css="1qdrnpx">.css-1qdrnpx{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:33.75em){.css-1qdrnpx{right:-5px;}}</style><div class="css-1qdrnpx e1q3p6rm3"><style data-emotion-css="4zc6l3">.css-4zc6l3{opacity:0.5;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;margin-left:30px;}.css-4zc6l3:hover{opacity:1;}.css-4zc6l3[data-a11y="true"]:focus::after{content:"";position:absolute;left:0;top:-30%;width:100%;height:160%;border:2px solid var(--theme-ui-colors-accent,#6166DC);background:rgba(255,255,255,0.01);border-radius:5px;}@media (max-width:45.9375em){.css-4zc6l3{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-transform:scale(0.708);-ms-transform:scale(0.708);transform:scale(0.708);margin-left:10px;}.css-4zc6l3:hover{opacity:0.5;}}</style><button data-a11y="false" aria-label="Copy URL to clipboard" title="Copy URL to clipboard" class="css-4zc6l3 e1q3p6rm5"><svg width="24" height="20" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 5C2 3.34328 3.34328 2 5 2H14C15.6567 2 17 3.34328 17 5V9C17 10.6567 15.6567 12 14 12H10C9.44771 12 9 12.4477 9 13C9 13.5523 9.44771 14 10 14H14C16.7613 14 19 11.7613 19 9V5C19 2.23872 16.7613 0 14 0H5C2.23872 0 0 2.23872 0 5V9C0 10.4938 0.656313 11.8361 1.6935 12.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625C3.47028 12.2483 3.43068 11.6164 3.0165 11.2511C2.39169 10.6999 2 9.89621 2 9V5ZM7 11C7 9.34328 8.34328 8 10 8H14C14.5523 8 15 7.55228 15 7C15 6.44772 14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11V15C5 17.7613 7.23872 20 10 20H19C21.7613 20 24 17.7613 24 15V11C24 9.50621 23.3437 8.16393 22.3065 7.24906C21.8923 6.88372 21.2604 6.92332 20.8951 7.3375C20.5297 7.75168 20.5693 8.38361 20.9835 8.74894C21.6083 9.30007 22 10.1038 22 11V15C22 16.6567 20.6567 18 19 18H10C8.34328 18 7 16.6567 7 15V11Z" fill="#000"></path></svg><style data-emotion-css="16kvgc5">.css-16kvgc5{position:absolute;padding:4px 13px;background:rgba(0,0,0,0.1);color:#000;border-radius:5px;font-size:14px;top:-35px;opacity:0;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transition:-webkit-transform 0.3s ease-in-out,opacity 0.3s ease-in-out;-webkit-transition:transform 0.3s ease-in-out,opacity 0.3s ease-in-out;transition:transform 0.3s ease-in-out,opacity 0.3s ease-in-out;}.css-16kvgc5::after{content:"";position:absolute;left:0;right:0;bottom:-6px;margin:0 auto;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,0.1);}</style><div class="css-16kvgc5 e1q3p6rm4">Copied</div></button><button data-a11y="false" aria-label="Activate dark mode" title="Activate dark mode" class="css-4zc6l3 e1q3p6rm5"><style data-emotion-css="jmdf3f">.css-jmdf3f{position:relative;width:24px;height:24px;border-radius:50%;border:2px solid var(--theme-ui-colors-primary,#000);background:var(--theme-ui-colors-primary,#000);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;}.css-jmdf3f::before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:2px solid var(--theme-ui-colors-primary,#000);border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-jmdf3f::after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-primary,#000),0 23px 0 var(--theme-ui-colors-primary,#000),23px 0 0 var(--theme-ui-colors-primary,#000),-23px 0 0 var(--theme-ui-colors-primary,#000),15px 15px 0 var(--theme-ui-colors-primary,#000),-15px 15px 0 var(--theme-ui-colors-primary,#000),15px -15px 0 var(--theme-ui-colors-primary,#000),-15px -15px 0 var(--theme-ui-colors-primary,#000);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}@media (max-width:45.9375em){.css-jmdf3f::after{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}}</style><div class="css-jmdf3f e1q3p6rm6"></div><style data-emotion-css="1k5uyy5">.css-1k5uyy5{position:absolute;right:-1px;top:-8px;height:24px;width:24px;border-radius:50%;border:0;background:var(--theme-ui-colors-background,#fafafa);-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad),-webkit-transform 0.45s ease;-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad),transform 0.45s ease;transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad),transform 0.45s ease;}</style><div class="css-1k5uyy5 e1q3p6rm7"></div></button></div></div></section><style data-emotion-css="wn0kt9">@media (max-width:33.75em){.css-wn0kt9::before{content:"";width:100%;height:20px;background:var(--theme-ui-colors-primary,#000);position:absolute;left:0;top:0;-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);}.css-wn0kt9::after{content:"";width:100%;height:10px;background:var(--theme-ui-colors-background,#fafafa);position:absolute;left:0;top:10px;border-top-left-radius:25px;border-top-right-radius:25px;-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);}}</style><div class="css-wn0kt9 efpmxor0"><style data-emotion-css="1ito37z">.css-1ito37z{position:relative;z-index:10;margin:100px auto 120px;padding-left:68px;max-width:749px;}@media (max-width:66.875em){.css-1ito37z{padding-left:53px;max-width:calc(507px + 53px);margin:100px auto 70px;}}@media (max-width:45.9375em){.css-1ito37z{padding-left:0;margin:100px auto 70px;max-width:480px;}}@media (max-width:33.75em){.css-1ito37z{margin:170px auto 180px;padding:0 40px;}}@media screen and (max-height:700px){.css-1ito37z{margin:100px auto;}}</style><header class="css-1ito37z efpmxor2"><style data-emotion-css="1gsqanz">.css-1gsqanz{word-break:keep-all;font-size:52px;line-height:1.15;font-weight:bold;color:var(--theme-ui-colors-primary,#000);font-family:'Merriweather',Georgia,Serif;font-size:48px;font-family:'Merriweather',Georgia,Serif;margin-bottom:10px;font-weight:bold;line-height:1.32;}@media (max-width:66.875em){.css-1gsqanz{font-size:38px;line-height:1.2;}}@media (max-width:33.75em){.css-1gsqanz{font-size:32px;line-height:1.3;}}@media (max-width:45.9375em){.css-1gsqanz{font-size:36px;}}@media (max-width:33.75em){.css-1gsqanz{font-size:32px;}}</style><h1 class="css-1gsqanz efpmxor3">What does it take to write a good Arduino library?</h1><style data-emotion-css="1ldgr1n">.css-1ldgr1n{font-size:23px;font-weight:normal;color:var(--theme-ui-colors-grey,#73737D);margin-bottom:25px;}</style><div class="css-1ldgr1n efpmxor4">Arduino library should be easy to use, well documented, and covered with unit tests. How to do it?</div><style data-emotion-css="sdvpri">.css-sdvpri{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:18px;color:var(--theme-ui-colors-grey,#73737D);}@media (max-width:33.75em){.css-sdvpri{font-size:14px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-sdvpri strong{display:block;font-weight:500;margin-bottom:5px;}}</style><div class="css-sdvpri efpmxor5"><style data-emotion-css="1mpu0fb">.css-1mpu0fb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;}.css-1mpu0fb strong{-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);}.css-1mpu0fb:hover strong{color:var(--theme-ui-colors-primary,#000);}</style><a class="css-1mpu0fb e1j91cvq2" href="/authors/vladimir-zahradnik"><style data-emotion-css="u1pf06">.css-u1pf06{height:25px;width:25px;border-radius:50%;margin-right:14px;background:var(--theme-ui-colors-grey,#73737D);overflow:hidden;}.css-u1pf06 .gatsby-image-wrapper > div{padding-bottom:100% !important;}@media (max-width:33.75em){.css-u1pf06{display:none;}}</style><div class="css-u1pf06 e1j91cvq0"><style data-emotion-css="uodor8">.css-uodor8{border-radius:50%;}</style><style data-emotion-css="1qspsgn">.css-1qspsgn{border-radius:50%;}.css-1qspsgn > img{-webkit-filter:blur(8px);filter:blur(8px);}</style><div class="e1j91cvq1 css-1qspsgn e13158qv0 gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAUB/8QAFwEBAQEBAAAAAAAAAAAAAAAABAECA//aAAwDAQACEAMQAAABxynb1uJ1SCcT0GqsXP8A/8QAGxAAAgMAAwAAAAAAAAAAAAAAAgMAAREEEhP/2gAIAQEAAQUCWru1yhC8ucY8Y3LfWRZWJm4zv0Kf/8QAGREAAwADAAAAAAAAAAAAAAAAAAERAhAS/9oACAEDAQE/AbjGdaiP/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAECEhH/2gAIAQIBAT8BrqpGhmmf/8QAHRAAAgIBBQAAAAAAAAAAAAAAAAERMQIQEiEicf/aAAgBAQAGPwKMqFtclHpD0lHbks//xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhMUH/2gAIAQEAAT8h0StNwm1Qkc70ywLzGpWeT0QD2ArirtQEq8//2gAMAwEAAgADAAAAEIfoQ//EABkRAAIDAQAAAAAAAAAAAAAAAAABEBFRYf/aAAgBAwEBPxCxmRRyP//EABgRAQEAAwAAAAAAAAAAAAAAAAEAESFR/9oACAECAQE/ELGUldx1b//EABwQAQACAwEBAQAAAAAAAAAAAAEAESExQVFxgf/aAAgBAQABPxAxHUnxFCNGGtMCUa/kUmKDePpHrLRrGjBBVBZ7yG6mgBZpjoIboXzXkPhg1eZ//9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/2710c5b0d5255e561fdaea517fdba2b0/58718/vladimir-zahradnik.webp 13w,
/static/2710c5b0d5255e561fdaea517fdba2b0/74aad/vladimir-zahradnik.webp 25w,
/static/2710c5b0d5255e561fdaea517fdba2b0/e7b2c/vladimir-zahradnik.webp 50w,
/static/2710c5b0d5255e561fdaea517fdba2b0/ed320/vladimir-zahradnik.webp 75w,
/static/2710c5b0d5255e561fdaea517fdba2b0/66016/vladimir-zahradnik.webp 100w,
/static/2710c5b0d5255e561fdaea517fdba2b0/36ebb/vladimir-zahradnik.webp 1000w" sizes="(max-width: 50px) 100vw, 50px" /><source srcset="/static/2710c5b0d5255e561fdaea517fdba2b0/afb2b/vladimir-zahradnik.jpg 13w,
/static/2710c5b0d5255e561fdaea517fdba2b0/7c20e/vladimir-zahradnik.jpg 25w,
/static/2710c5b0d5255e561fdaea517fdba2b0/fa1ea/vladimir-zahradnik.jpg 50w,
/static/2710c5b0d5255e561fdaea517fdba2b0/03612/vladimir-zahradnik.jpg 75w,
/static/2710c5b0d5255e561fdaea517fdba2b0/61cdf/vladimir-zahradnik.jpg 100w,
/static/2710c5b0d5255e561fdaea517fdba2b0/724c8/vladimir-zahradnik.jpg 1000w" sizes="(max-width: 50px) 100vw, 50px" /><img loading="lazy" sizes="(max-width: 50px) 100vw, 50px" srcset="/static/2710c5b0d5255e561fdaea517fdba2b0/afb2b/vladimir-zahradnik.jpg 13w,
/static/2710c5b0d5255e561fdaea517fdba2b0/7c20e/vladimir-zahradnik.jpg 25w,
/static/2710c5b0d5255e561fdaea517fdba2b0/fa1ea/vladimir-zahradnik.jpg 50w,
/static/2710c5b0d5255e561fdaea517fdba2b0/03612/vladimir-zahradnik.jpg 75w,
/static/2710c5b0d5255e561fdaea517fdba2b0/61cdf/vladimir-zahradnik.jpg 100w,
/static/2710c5b0d5255e561fdaea517fdba2b0/724c8/vladimir-zahradnik.jpg 1000w" src="/static/2710c5b0d5255e561fdaea517fdba2b0/fa1ea/vladimir-zahradnik.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><strong>Vladimír Záhradník</strong><style data-emotion-css="sjizha">@media (max-width:33.75em){.css-sjizha{display:none;}}</style><span class="css-sjizha e1j91cvq13">, </span></a><style data-emotion-css="1d64qrg">.css-1d64qrg{margin-left:0;}@media (max-width:33.75em){.css-1d64qrg{margin-left:0;}}</style><div class="css-1d64qrg efpmxor1">November 27th, 2019<!-- --> · <!-- -->15<!-- --> min read</div></div></header><style data-emotion-css="15rikwz">.css-15rikwz{position:relative;z-index:1;width:100%;max-width:944px;overflow:hidden;margin:0 auto;box-shadow:0 30px 60px -10px rgba(0,0,0,0.2),0 18px 36px -18px rgba(0,0,0,0.22);}@media (max-width:45.9375em){.css-15rikwz{max-width:100%;}}@media (max-width:33.75em){.css-15rikwz{margin:0 auto;width:calc(100vw - 40px);height:220px;}.css-15rikwz > div{height:220px;}}</style><div id="ArticleImage__Hero" class="css-15rikwz efpmxor6"><style data-emotion-css="133qvua">.css-133qvua > img{-webkit-filter:blur(8px);filter:blur(8px);}</style><div class="css-133qvua e13158qv0 gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:66.52542372881355%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHkUwkAv//EABoQAAICAwAAAAAAAAAAAAAAAAACAREQEiH/2gAIAQEAAQUCVLGSsLJtw//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAEFAAAAAAAAAAAAAAAAABAAAREhMf/aAAgBAQAGPwJU8nB//8QAGxABAAICAwAAAAAAAAAAAAAAAQARITEQQYH/2gAIAQEAAT8hRZQgja4y5vXTEXqlexn/2gAMAwEAAgADAAAAEAwf/8QAFhEAAwAAAAAAAAAAAAAAAAAAEBEh/9oACAEDAQE/EKx//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQEBAQEBAAAAAAAAAAAAAREAITFhkf/aAAgBAQABPxAQCvlLcX+hCBk7r8YXeF5mOdCK0fuVa+7/2Q==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/4a53e73d8e93bf3d31d2b336963bca73/77392/hero.webp 236w,
/static/4a53e73d8e93bf3d31d2b336963bca73/1f177/hero.webp 472w,
/static/4a53e73d8e93bf3d31d2b336963bca73/99fbb/hero.webp 944w,
/static/4a53e73d8e93bf3d31d2b336963bca73/4a492/hero.webp 1416w,
/static/4a53e73d8e93bf3d31d2b336963bca73/b0b8f/hero.webp 1888w,
/static/4a53e73d8e93bf3d31d2b336963bca73/30cf3/hero.webp 1920w" sizes="(max-width: 944px) 100vw, 944px" /><source srcset="/static/4a53e73d8e93bf3d31d2b336963bca73/e0f30/hero.jpg 236w,
/static/4a53e73d8e93bf3d31d2b336963bca73/86afd/hero.jpg 472w,
/static/4a53e73d8e93bf3d31d2b336963bca73/58fe7/hero.jpg 944w,
/static/4a53e73d8e93bf3d31d2b336963bca73/02748/hero.jpg 1416w,
/static/4a53e73d8e93bf3d31d2b336963bca73/5c241/hero.jpg 1888w,
/static/4a53e73d8e93bf3d31d2b336963bca73/097fa/hero.jpg 1920w" sizes="(max-width: 944px) 100vw, 944px" /><img loading="lazy" sizes="(max-width: 944px) 100vw, 944px" srcset="/static/4a53e73d8e93bf3d31d2b336963bca73/e0f30/hero.jpg 236w,
/static/4a53e73d8e93bf3d31d2b336963bca73/86afd/hero.jpg 472w,
/static/4a53e73d8e93bf3d31d2b336963bca73/58fe7/hero.jpg 944w,
/static/4a53e73d8e93bf3d31d2b336963bca73/02748/hero.jpg 1416w,
/static/4a53e73d8e93bf3d31d2b336963bca73/5c241/hero.jpg 1888w,
/static/4a53e73d8e93bf3d31d2b336963bca73/097fa/hero.jpg 1920w" src="/static/4a53e73d8e93bf3d31d2b336963bca73/58fe7/hero.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></div><style data-emotion-css="145b7r6">.css-145b7r6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 auto;max-width:1140px;}@media (max-width:80em){.css-145b7r6{display:none;}}</style><aside class="css-145b7r6 e1mvde9i0"><style data-emotion-css="18dj233">.css-18dj233{position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);top:0px;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;height:100vh;z-index:3;opacity:0;visibility:hidden;-webkit-transition:opacity 0.2s linear,visibility 0.4s linear;transition:opacity 0.2s linear,visibility 0.4s linear;}</style><div class="css-18dj233 e1mvde9i1"><div><style data-emotion-css="155spwp">.css-155spwp{-webkit-user-select:initial;-moz-user-select:initial;-ms-user-select:initial;user-select:initial;pointer-events:initial;opacity:1;-webkit-transition:opacity 0.25s;transition:opacity 0.25s;}</style><div class="css-155spwp e12lgbtp0"><style data-emotion-css="1elne8e">.css-1elne8e{position:relative;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><div tabindex="-1" class="css-1elne8e ewxdfzj0"><style data-emotion-css="iefrkk">.css-iefrkk{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:calc(88vh - 40px);max-height:425px;width:1px;background-color:var(--theme-ui-colors-track,rgba(8,8,11,0.3));opacity:0.6;overflow:hidden;}</style><div aria-hidden="true" class="css-iefrkk ewxdfzj1"><style data-emotion-css="1qno6mr">.css-1qno6mr{position:absolute;height:100%;top:-100%;width:1px;background-color:var(--theme-ui-colors-progress,#000);left:0;}</style><div style="transform:translateY(0%)" class="css-1qno6mr ewxdfzj2"></div></div></div></div></div></div></aside><style data-emotion-css="19mic43">.css-19mic43{position:relative;padding-top:60px;-webkit-transition:background 0.2s linear;transition:background 0.2s linear;text-align:center;}@media (min-width:33.8125em){.css-19mic43{display:none;}}</style><div class="css-19mic43 eamsocw0"><style data-emotion-css="gmuwbf">.css-gmuwbf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}</style><div class="css-gmuwbf e1yswbpi0"><style data-emotion-css="1yxfb37">.css-1yxfb37{opacity:0.5;position:relative;z-index:200000000;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;margin-left:30px;}.css-1yxfb37:hover{opacity:1;}@media (max-width:45.9375em){.css-1yxfb37{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);margin:0 15px;}.css-1yxfb37:hover{opacity:0.5;}}</style><button data-a11y="false" aria-label="Copy URL to clipboard" class="css-1yxfb37 e1yswbpi2"><svg width="24" height="20" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 5C2 3.34328 3.34328 2 5 2H14C15.6567 2 17 3.34328 17 5V9C17 10.6567 15.6567 12 14 12H10C9.44771 12 9 12.4477 9 13C9 13.5523 9.44771 14 10 14H14C16.7613 14 19 11.7613 19 9V5C19 2.23872 16.7613 0 14 0H5C2.23872 0 0 2.23872 0 5V9C0 10.4938 0.656313 11.8361 1.6935 12.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625C3.47028 12.2483 3.43068 11.6164 3.0165 11.2511C2.39169 10.6999 2 9.89621 2 9V5ZM7 11C7 9.34328 8.34328 8 10 8H14C14.5523 8 15 7.55228 15 7C15 6.44772 14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11V15C5 17.7613 7.23872 20 10 20H19C21.7613 20 24 17.7613 24 15V11C24 9.50621 23.3437 8.16393 22.3065 7.24906C21.8923 6.88372 21.2604 6.92332 20.8951 7.3375C20.5297 7.75168 20.5693 8.38361 20.9835 8.74894C21.6083 9.30007 22 10.1038 22 11V15C22 16.6567 20.6567 18 19 18H10C8.34328 18 7 16.6567 7 15V11Z" fill="black"></path></svg><div class="css-16kvgc5 e1yswbpi1">Copied</div></button><button aria-label="Toggle dark and light mode" class="css-1yxfb37 e1yswbpi2"><div class="css-jmdf3f e1yswbpi3"></div><style data-emotion-css="mslqme">.css-mslqme{position:absolute;right:-1px;top:-8px;height:24px;width:24px;border-radius:50%;border:0;background:var(--theme-ui-colors-background,#fafafa);-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease,background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);-webkit-transition:transform 0.45s ease,background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:transform 0.45s ease,background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);}</style><div class="css-mslqme e1yswbpi4"></div></button></div></div><style data-emotion-css="1j2ibf0">.css-1j2ibf0{position:relative;padding:160px 0 35px;padding-left:68px;-webkit-transition:background 0.2s linear;transition:background 0.2s linear;}@media (max-width:66.875em){.css-1j2ibf0{padding-left:53px;}}@media (max-width:45.9375em){.css-1j2ibf0{padding:70px 0 80px;}}@media (max-width:33.75em){.css-1j2ibf0{padding:60px 0;}}</style><article class="css-1j2ibf0 eamsocw1"><style data-emotion-css="rb52af">.css-rb52af{position:relative;z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-rb52af h1,.css-rb52af h2,.css-rb52af h3,.css-rb52af h4,.css-rb52af h5,.css-rb52af h6{margin:0 auto;}.css-rb52af h1,.css-rb52af h1 *,.css-rb52af h2,.css-rb52af h2 *{margin:25px auto 18px;}@media (max-width:45.9375em){.css-rb52af h1,.css-rb52af h1 *,.css-rb52af h2,.css-rb52af h2 *{margin:30px auto 18px;}}.css-rb52af h3,.css-rb52af h3 *{margin:20px auto 10px;}.css-rb52af h1,.css-rb52af h2,.css-rb52af h3,.css-rb52af h4,.css-rb52af h5,.css-rb52af h6{width:100%;max-width:680px;}@media (max-width:66.875em){.css-rb52af h1,.css-rb52af h2,.css-rb52af h3,.css-rb52af h4,.css-rb52af h5,.css-rb52af h6{max-width:507px;}}@media (max-width:45.9375em){.css-rb52af h1,.css-rb52af h2,.css-rb52af h3,.css-rb52af h4,.css-rb52af h5,.css-rb52af h6{max-width:486px;}}@media (max-width:33.75em){.css-rb52af h1,.css-rb52af h2,.css-rb52af h3,.css-rb52af h4,.css-rb52af h5,.css-rb52af h6{padding:0 20px;}}.css-rb52af .prism-code{overflow:auto;width:100%;max-width:744px;margin:0 auto;padding:32px;font-size:13px;margin:15px auto 50px;border-radius:5px;font-family:"Operator Mono",Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;background:var(--theme-ui-colors-prism-background,#292c34);}.css-rb52af .prism-code .token-line{border-left:3px solid transparent;}.css-rb52af .prism-code .token-line .token{color:var(--theme-ui-colors-prism-token,#fff);}.css-rb52af .prism-code .token-line .language-javascript{color:var(--theme-ui-colors-prism-languageJavascript,#e8696b);}.css-rb52af .prism-code .token-line .javascript{color:var(--theme-ui-colors-prism-javascript,#e8696b);}.css-rb52af .prism-code .token-line .background{color:var(--theme-ui-colors-prism-background,#292c34);}.css-rb52af .prism-code .token-line .comment{color:var(--theme-ui-colors-prism-comment,#5e6a76);}.css-rb52af .prism-code .token-line .string{color:var(--theme-ui-colors-prism-string,#a8e2a8);}.css-rb52af .prism-code .token-line .var{color:var(--theme-ui-colors-prism-var,#b3bac5);}.css-rb52af .prism-code .token-line .number{color:var(--theme-ui-colors-prism-number,#e4854d);}.css-rb52af .prism-code .token-line .constant{color:var(--theme-ui-colors-prism-constant,#b3bac5);}.css-rb52af .prism-code .token-line .plain{color:var(--theme-ui-colors-prism-plain,#fff);}.css-rb52af .prism-code .token-line .doctype{color:var(--theme-ui-colors-prism-doctype,#e8696b);}.css-rb52af .prism-code .token-line .tag{color:var(--theme-ui-colors-prism-tag,#e8696b);}.css-rb52af .prism-code .token-line .keyword{color:var(--theme-ui-colors-prism-keyword,#d49fd4);}.css-rb52af .prism-code .token-line .boolean{color:var(--theme-ui-colors-prism-boolean,#ff5874);}.css-rb52af .prism-code .token-line .function{color:var(--theme-ui-colors-prism-function,#5F8DC3);}.css-rb52af .prism-code .token-line .parameter{color:var(--theme-ui-colors-prism-parameter,#F9965D);}.css-rb52af .prism-code .token-line .class-name{color:var(--theme-ui-colors-prism-className,#ffcf74);}.css-rb52af .prism-code .token-line .attr-name{color:var(--theme-ui-colors-prism-attrName,#bf87ba);}.css-rb52af .prism-code .token-line .attr-value{color:var(--theme-ui-colors-prism-attrValue,#a8e2a8);}.css-rb52af .prism-code .token-line .interpolation{color:var(--theme-ui-colors-prism-interpolation,#fff);}.css-rb52af .prism-code .token-line .punctuation{color:var(--theme-ui-colors-prism-punctuation,#5FA8AA);}.css-rb52af .prism-code .token-line .maybe-class-name{color:var(--theme-ui-colors-prism-maybe-class-name,#fff);}.css-rb52af .prism-code .token-line .property{color:var(--theme-ui-colors-prism-property,#80cbc4);}.css-rb52af .prism-code .token-line .property-access{color:var(--theme-ui-colors-prism-propertyAccess,#fff);}.css-rb52af .prism-code .token-line .namespace{color:var(--theme-ui-colors-prism-namespace,#b2ccd6);}.css-rb52af .prism-code .token-line .highlight{color:var(--theme-ui-colors-prism-highlight,rgba(255,255,255,0.07));}.css-rb52af .prism-code .token-line .highlight-border{color:var(--theme-ui-colors-prism-highlightBorder,#e1bde2);}.css-rb52af .prism-code .token-line .dom{color:var(--theme-ui-colors-prism-dom,#5F8DC3);}.css-rb52af .prism-code .token-line .operator{color:var(--theme-ui-colors-prism-operator,#5FA8AA);}.css-rb52af .prism-code .number-line{display:inline-block;width:32px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;color:#dcd9e6;}@media (max-width:45.9375em){.css-rb52af .prism-code .number-line{opacity:0;width:0;}}.css-rb52af .prism-code .token-line.highlight-line{margin:0 -32px;padding:0 32px;background:var(--theme-ui-colors-prism-highlight,rgba(255,255,255,0.07));border-left:3px solid var(--theme-ui-colors-prism-highlightBorder,#e1bde2);}@media (max-width:45.9375em){.css-rb52af .prism-code .token-line.highlight-line{margin:0 -20px;padding:0 20px;}}.css-rb52af .prism-code .operator + .maybe-class-name{color:#ffcf74 !important;}.css-rb52af .prism-code .plain ~ .operator{color:#5fa8aa !important;}@media (max-width:66.875em){.css-rb52af .prism-code{left:-26px;}}@media (max-width:45.9375em){.css-rb52af .prism-code{max-width:526px;padding:20px 20px;left:0;}}@media (max-width:33.75em){.css-rb52af .prism-code{-webkit-text-size-adjust:none;text-size-adjust:none;border-radius:0;margin:0 auto 25px;padding:25px 20px;overflow:initial;width:unset;max-width:unset;float:left;min-width:100%;overflow:initial;position:relative;}}.css-rb52af .gatsby-resp-image-background-image{display:none !important;}.css-rb52af img{display:inline-block;position:relative;max-width:100%;height:auto;z-index:0;margin:15px auto 50px;border-radius:5px;}@media (max-width:45.9375em){.css-rb52af img{margin:10px auto 45px;}}.css-rb52af div.Image__Small{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;max-width:100%;height:auto;z-index:0;margin:15px auto 50px;border-radius:5px;width:100%;max-width:680px;}@media (max-width:45.9375em){.css-rb52af div.Image__Small{margin:10px auto 45px;}}@media (max-width:66.875em){.css-rb52af div.Image__Small{max-width:507px;}}@media (max-width:45.9375em){.css-rb52af div.Image__Small{max-width:486px;margin:0 auto 25px;}}@media (max-width:33.75em){.css-rb52af div.Image__Small{padding:0 20px;}}.css-rb52af .Image__Container{text-align:center;}.css-rb52af img.Image__With-Shadow{box-shadow:0px 15px 60px rgba(0,0,0,0.15);}.css-rb52af div.Image__Medium{position:relative;margin:15px auto 50px;width:100%;max-width:1004px;}@media (max-width:80em){.css-rb52af div.Image__Medium{left:-34px;}}@media (max-width:66.875em){.css-rb52af div.Image__Medium{left:-26px;}}@media (max-width:45.9375em){.css-rb52af div.Image__Medium{border-radius:0;left:0;margin:0 auto 25px;}.css-rb52af div.Image__Medium img{border-radius:0;}}.css-rb52af div.Image__Large{position:relative;left:-68px;width:100vw;margin:25px auto 60px;pointer-events:none;}.css-rb52af div.Image__Large iframe{pointer-events:all;}.css-rb52af div.Image__Large img{border-radius:0;}@media (max-width:66.875em){.css-rb52af div.Image__Large{left:-53px;}}@media (max-width:45.9375em){.css-rb52af div.Image__Large{left:0;margin:0 auto 25px;}}</style><div class="css-rb52af ellmdci0"><style data-emotion-css="8qp1bw">.css-8qp1bw{line-height:1.756;font-size:18px;color:var(--theme-ui-colors-articleText,#08080B);font-family:'SF Pro Display','-apple-system','BlinkMacSystemFont','San Francisco','Helvetica Neue','Helvetica','Ubuntu','Roboto','Noto','Segoe UI','Arial',sans-serif;-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);margin:0 auto 35px;width:100%;max-width:680px;}.css-8qp1bw b{font-weight:800;}@media (max-width:66.875em){.css-8qp1bw{max-width:507px;}}@media (max-width:45.9375em){.css-8qp1bw{max-width:486px;margin:0 auto 25px;}}@media (max-width:33.75em){.css-8qp1bw{padding:0 20px;}}</style><p class="css-8qp1bw ezkq0ko0">Writing a decent library is not easy. Opinions on how such a library should look like, vary among developers. I think that a robust library should have detailed documentation, and developers should cover it with unit tests. Also, a decent library should hide away complexity and offer an interface, which is intuitive and easy to use.</p><p class="css-8qp1bw ezkq0ko0">I spent most of my years in software development, working on large projects. We built them on robust frameworks, and in most cases, we also wrote proper unit and integration tests. I believe that well-written tests can save you time, which you’d eventually spend on debugging and other activities.</p><p class="css-8qp1bw ezkq0ko0">I got my Arduino kit about a year and a half ago, and I understood the framework very quickly. The creators made Arduino with hobbyists and self-taught programmers in mind. On one side, it attracts a large community of people to electronics; on the other hand, the quality of the published code dramatically varies. When I needed some library for my <style data-emotion-css="mckguv">.css-mckguv{-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);color:var(--theme-ui-colors-accent,#6166DC);}.css-mckguv:visited{color:var(--theme-ui-colors-accent,#6166DC);opacity:0.85;}.css-mckguv:hover,.css-mckguv:focus{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://www.arduino.cc/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino</a> projects, I often checked the code on <a href="https://github.com/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">GitHub</a>, which was often unmaintained. Libraries, which were maintained, often didn’t have proper documentation. Most of them didn’t have unit tests.</p><p class="css-8qp1bw ezkq0ko0"><em class="css-0">Why should you test your code?</em> Watch the following video.</p><div class="Image__Medium css-0"><style data-emotion-css="1tvp5w7">.css-1tvp5w7{width:100%;height:0;padding-bottom:56.25%;position:relative;overflow:hidden;background-color:#eee;}.css-1tvp5w7 iframe{position:absolute;width:100%;height:100%;top:0;bottom:0;left:0;border:0;}</style><div class="css-1tvp5w7"><div class=""><div></div></div></div></div><p class="css-8qp1bw ezkq0ko0">In 1996, the maiden flight of the Ariane 5 launcher ended with a massive disaster caused by a programming error. Read the full story <a href="https://itsfoss.com/a-floating-point-error-that-caused-a-damage-worth-half-a-billion/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">here</a>.</p><p class="css-8qp1bw ezkq0ko0">Arduino is not that critical and expensive, but I still think that writing of tests is worth it. The downside is that it takes additional development time. I would say that each project is different, and you’ll need to decide whether the time to write the tests is worth it. In my opinion, you’ll greatly benefit from the tests if you implement some kind of a <a href="https://en.wikipedia.org/wiki/Finite-state_machine" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">state machine</a>. It is ubiquitous in Arduino and tests allow you to change the code with confidence. Also, Arduino libraries are usually tiny, only hundreds of lines of code, compared to thousands of lines in Android apps or elsewhere. To thoroughly test your library, you often need to write less than 10 test cases. For example, I was able to write unit tests for the <a href="https://github.com/JSC-electronics/SimpleRelay" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">relay library</a> in less than three hours, and I was still learning to use the testing framework.</p><p class="css-8qp1bw ezkq0ko0">At this time, I work on a long-term <a href="https://www.arduino.cc/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino</a> project which implements a semi-automated gearbox. Imagine a steering wheel with two paddles mounted next to it.</p><div class="Image__Small css-0">
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:754px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:74.80106100795756%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAaOWioYLD//EABsQAAICAwEAAAAAAAAAAAAAAAECAAMREiEi/9oACAEBAAEFArutYKSqvgcnmBNp/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAQQCAwAAAAAAAAAAAAAAAAECESEDQSIxMv/aAAgBAQAGPwJqu8bIxpz1RDu0LLJQ/8QAGhAAAwEBAQEAAAAAAAAAAAAAAREhADFRYf/aAAgBAQABPyEBwQoMapERBanOD90sPh25+aqAc3//2gAMAwEAAgADAAAAEFAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARITFBUWFx/9oACAEBAAE/EHVVNFSqw0QuIhBRs78uVy8x6uxVWEax4jtjL0vUQbCAvJ//2Q==&#x27;);background-size:cover;display:block"></span>
  <picture>
        <source srcSet="/static/317bce33d0d00b3ff9f1e22942bb96b2/66767/raceduino-wheel.webp 754w" sizes="(max-width: 754px) 100vw, 754px" type="image/webp"/>
        <source srcSet="/static/317bce33d0d00b3ff9f1e22942bb96b2/a1103/raceduino-wheel.jpg 754w" sizes="(max-width: 754px) 100vw, 754px" type="image/jpeg"/>
        <div data-rmiz-wrap="visible"><img class="Image__Zoom" src="/static/317bce33d0d00b3ff9f1e22942bb96b2/a1103/raceduino-wheel.jpg" alt="Racing Wheel" style="display:block;margin:0 auto;width:100%;border-radius:0px"/><button aria-label="Zoom image" data-rmiz-btn-open="true" type="button"></button></div>
      </picture>
    </span>
  <style data-emotion-css="11o8ky7">.css-11o8ky7{color:var(--theme-ui-colors-grey,#73737D);font-size:14px;text-align:center;width:100%;padding-top:6px;}</style><figcaption class="css-11o8ky7 e1xodvy30">Racing Wheel, courtesy of JSC electronics</figcaption></div><p class="css-8qp1bw ezkq0ko0">When a driver presses a paddle on the right, Arduino will shift the gear up, and when he pushes a paddle on the left, Arduino will shift the lever down. It will also <a href="https://www.quora.com/How-does-a-Clutch-by-wire-work" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">control the clutch</a>. In racing, quick response matters in better times and potentially overall results.</p><p class="css-8qp1bw ezkq0ko0">To detect paddle presses, I initially used the <a href="https://github.com/mathertel/OneButton/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">OneButton</a> Arduino library. However, it didn’t integrate well with my existing codebase, and also it didn’t broadcast events such that some button was released. These kinds of events are crucial to me because I need to know that some action has happened instantly. A delay of 50 to 100 milliseconds impacts latency vastly. Ultimately, I decided to write a custom library.</p><style data-emotion-css="fkwewv">.css-fkwewv{word-break:keep-all;font-size:32px;line-height:1.333;font-weight:bold;color:var(--theme-ui-colors-primary,#000);font-family:'Merriweather',Georgia,Serif;}@media (max-width:66.875em){.css-fkwewv{font-size:21px;}}@media (max-width:45.9375em){.css-fkwewv{font-size:24px;line-height:1.45;}}@media (max-width:33.75em){.css-fkwewv{font-size:22px;}}</style><h2 id="objectbutton" class="css-fkwewv e18lclmb1">ObjectButton</h2><p class="css-8qp1bw ezkq0ko0"><a href="https://github.com/JSC-electronics/ObjectButton" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">ObjectButton</a> is an Arduino library for detecting common button actions from changes on <a href="https://en.wikipedia.org/wiki/General-purpose_input/output" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">GPIO</a> input pins. This library should be easy to integrate with C++ objects, hence the name.</p><style data-emotion-css="8fj7fw">.css-8fj7fw{word-break:keep-all;font-size:24px;line-height:1.45;font-weight:bold;color:var(--theme-ui-colors-primary,#000);font-family:'Merriweather',Georgia,Serif;}@media (max-width:45.9375em){.css-8fj7fw{font-size:22px;}}@media (max-width:33.75em){.css-8fj7fw{font-size:20px;}}</style><h3 id="callback-function-limitations" class="css-8fj7fw e18lclmb2">Callback function limitations</h3><p class="css-8qp1bw ezkq0ko0">Most Arduino libraries allow you to hook a callback function, which gets called as soon as some action happens. The callback is usually implemented as a pointer to a function without input parameters.</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><style data-emotion-css="1chxjt6">.css-1chxjt6{position:absolute;right:22px;top:24px;padding:8px 12px 7px;border-radius:5px;color:#6f7177;-webkit-transition:background 0.3s ease;transition:background 0.3s ease;}.css-1chxjt6:hover{background:rgba(255,255,255,0.07);}.css-1chxjt6[data-a11y="true"]:focus::after{content:"";position:absolute;left:-2%;top:-2%;width:104%;height:104%;border:2px solid var(--theme-ui-colors-accent,#6166DC);border-radius:5px;background:rgba(255,255,255,0.01);}@media (max-width:45.9375em){.css-1chxjt6{display:none;}}</style><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token keyword">extern</span><span class="token plain"> </span><span class="token string">&quot;C&quot;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">    </span><span class="token keyword">typedef</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token plain">callbackFunction</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">In practice, you’ll register a callback like this:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain"></span><span class="token comment">// Create a callback function for click event</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain"></span><span class="token keyword">void</span><span class="token plain"> </span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain">    Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;A button was clicked&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">6</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">7</span><span class="token plain"></span><span class="token comment">// Register this function in a library</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">8</span><span class="token plain">OneButton button </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">OneButton</span><span class="token punctuation">(</span><span class="token plain">INPUT_PIN</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">/* activeLow */</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">9</span><span class="token plain">button</span><span class="token punctuation">.</span><span class="token function">attachClick</span><span class="token punctuation">(</span><span class="token plain">onClick</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">The following approach works excellent for registering C-like functions, but not for <a href="https://stackoverflow.com/questions/8865766/get-a-pointer-to-objects-member-function" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">C++ object member functions</a>. It’s because all member functions have an implicit (first) parameter — <code class="css-0">this</code>.</p><p class="css-8qp1bw ezkq0ko0">To circumvent the limitation, you could:</p><style data-emotion-css="1rpojxi">.css-1rpojxi{list-style:none;counter-reset:list;color:var(--theme-ui-colors-articleText,#08080B);position:relative;padding:15px 0 30px 30px;-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);margin:0 auto;font-size:18px;width:100%;max-width:680px;}@media (max-width:66.875em){.css-1rpojxi{max-width:507px;}}@media (max-width:45.9375em){.css-1rpojxi{max-width:486px;padding-left:0px;}}@media (max-width:33.75em){.css-1rpojxi{padding-left:20px;}}.css-1rpojxi li{position:relative;padding-bottom:15px;}@media (max-width:45.9375em){.css-1rpojxi li{padding-left:30px;}}@media (max-width:33.75em){.css-1rpojxi li{padding-left:30px;}}@media (max-width:45.9375em){.css-1rpojxi li p{padding:0;}}.css-1rpojxi li >:not(ol,ul){display:inline;}.css-1rpojxi li::before{width:3rem;display:inline-block;position:absolute;color:var(--theme-ui-colors-articleText,#08080B);}.css-1rpojxi li::before{content:'';position:absolute;left:-30px;top:8px;height:8px;width:8px;background:var(--theme-ui-colors-articleText,#08080B);}@media (max-width:45.9375em){.css-1rpojxi li::before{left:0;}}</style><ul class="css-1rpojxi eouu7a70"><li class="css-0">Pass the address of the static member function, which will call the member function running on the specific object</li><li class="css-0">Create some C function outside of any object, which will call the member function on the object</li></ul><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">LedController controller </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">LedController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain"></span><span class="token keyword">void</span><span class="token plain"> </span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain">    controller</span><span class="token punctuation">.</span><span class="token function">turnLedOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">6</span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0"><em class="css-0">Note: Lambda / anonymous functions are as far as I know unavailable in Arduino. Arduino doesn’t support the C++ standard completely.</em></p><h3 id="listeners" class="css-8fj7fw e18lclmb2">Listeners</h3><p class="css-8qp1bw ezkq0ko0">Instead of passing a reference to the callback function, ObjectButton introduces <code class="css-0">Listeners</code>. Such an approach is used heavily in <a href="https://developer.android.com/reference/android/view/View.OnClickListener" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Android</a>. We define a listener as an abstract class. The listener defines a contract between our library and the code written by a user.</p><p class="css-8qp1bw ezkq0ko0">For example, the <a href="https://github.com/JSC-electronics/ObjectButton/blob/master/src/interfaces/IOnClickListener.h" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">listener</a> to receive <code class="css-0">onClick</code> events is defined like this:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">IOnClickListener</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain"></span><span class="token keyword">public</span><span class="token operator">:</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain">    </span><span class="token keyword">virtual</span><span class="token plain"> </span><span class="token operator">~</span><span class="token function">IOnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain">    </span><span class="token keyword">virtual</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token plain">ObjectButton </span><span class="token operator">&amp;</span><span class="token plain">button</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">6</span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">A user writes a C++ class, which inherits from this abstract class. You need to implement all virtual functions. When you register such a class in the library, internal code in the library can safely call the <code class="css-0">onClick(...)</code> function.</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token macro property">#</span><span class="token macro property directive keyword">include</span><span class="token macro property"> </span><span class="token macro property string">&lt;ObjectButton.h&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain"></span><span class="token macro property">#</span><span class="token macro property directive keyword">include</span><span class="token macro property"> </span><span class="token macro property string">&lt;interfaces/IOnClickListener.h&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">OnClickListener</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token keyword">virtual</span><span class="token plain"> IOnClickListener </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain"></span><span class="token keyword">public</span><span class="token operator">:</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">6</span><span class="token plain">    </span><span class="token function">OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">7</span><span class="token plain">    </span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">8</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">9</span><span class="token plain"></span><span class="token keyword">private</span><span class="token operator">:</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">10</span><span class="token plain">    </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token plain">ObjectButton </span><span class="token operator">&amp;</span><span class="token plain">button</span><span class="token punctuation">)</span><span class="token plain"> override</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">11</span><span class="token plain">    </span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">12</span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">13</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">14</span><span class="token plain"></span><span class="token keyword">void</span><span class="token plain"> OnClickListener</span><span class="token operator">::</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token plain">ObjectButton </span><span class="token operator">&amp;</span><span class="token plain">button</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">15</span><span class="token plain">  </span><span class="token comment">// React to button click</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">16</span><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">You will register a listener with the library like this:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token comment">// Create an ObjectButton instance</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">ObjectButton button </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">ObjectButton</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain">OnClickListener onClickListener </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain">button</span><span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token plain">onClickListener</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><h2 id="how-to-structure-your-code" class="css-fkwewv e18lclmb1">How to structure your code</h2><p class="css-8qp1bw ezkq0ko0">When you write your own Arduino library, it’s a whole new experience to writing a normal Arduino project. This time you <em class="css-0">write</em> the code that somebody else uses in his project. In a library, there’s no <code class="css-0">setup()</code> and <code class="css-0">loop()</code> function to implement. Arduino gives you the guidelines on how to structure the code. Some of them are mandatory, others are optional, but recommended. Your goal should be to make your library easy-to-use for everyone, even beginners. For instance, make sure you have some kind of <code class="css-0">begin()</code> function, which initializes your code. You often see this pattern in Arduino.</p><p class="css-8qp1bw ezkq0ko0">Let’s assume following about your users:</p><ul class="css-1rpojxi eouu7a70"><li class="css-0">They may have no prior programming experience</li><li class="css-0">They do not understand pointers</li><li class="css-0">They didn’t grasp what a constructor and destructor is</li><li class="css-0">They are familiar with <code class="css-0">begin()</code> and <code class="css-0">end()</code> functions from other libraries</li><li class="css-0">They expects function names to be <a href="https://en.wikipedia.org/wiki/Camel_case" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">camelCase</a>, i.e. <code class="css-0">getPressure()</code></li></ul><p class="css-8qp1bw ezkq0ko0">One of your main goals should be to hide all complexity away and to provide many example uses of your library. Arduino provides several reference guides; you should at least check these:</p><ul class="css-1rpojxi eouu7a70"><li class="css-0"><a href="https://www.arduino.cc/en/Reference/StyleGuide" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino Style Guide</a>, which will help you to write Examples for your library that can be read by both beginners and professional developers</li><li class="css-0"><a href="https://www.arduino.cc/en/Reference/APIStyleGuide" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino API Style Guide</a>, which defines rules for writing library APIs</li><li class="css-0"><a href="https://github.com/arduino/Arduino/wiki/Arduino-IDE-1.5:-Library-specification" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino library specification</a>, which you should follow to make your library compatible with Arduino IDE</li></ul><p class="css-8qp1bw ezkq0ko0">After you know your users and recommended guidelines of the Arduino community, it’s time to define some targets to meet.</p><h3 id="goals-to-achieve" class="css-8fj7fw e18lclmb2">Goals to achieve</h3><ul class="css-1rpojxi eouu7a70"><li class="css-0"><strong class="css-0">Easy to use for everyone</strong></li><li class="css-0">Good high-level abstraction</li><li class="css-0">Consistent with the <a href="https://www.arduino.cc/en/Reference/APIStyleGuide" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino coding guidelines</a></li><li class="css-0">Adheres to the <a href="https://github.com/arduino/Arduino/wiki/Arduino-IDE-1.5:-Library-specification" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino IDE 1.5 library specification</a></li><li class="css-0">Readability</li><li class="css-0">Compatibility</li><li class="css-0">No external dependencies</li><li class="css-0">Implements “multitasking”</li><li class="css-0"><strong class="css-0">Excellent coverage with unit tests</strong></li><li class="css-0">Many examples of use</li><li class="css-0"><strong class="css-0">Well documented</strong></li></ul><p class="css-8qp1bw ezkq0ko0">As you can see, unit tests coverage and documentation are just some of the goals to meet. </p><h3 id="high-level-abstraction" class="css-8fj7fw e18lclmb2">High-level abstraction</h3><p class="css-8qp1bw ezkq0ko0">When you try to come up with a decent library design, start with a pen and paper. As an inspiration, look at the official Arduino libraries. They are all well-written. I’ll briefly mention the <a href="https://www.arduino.cc/en/Reference/Servo" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Servo</a> library. Imagine you want to control a servo. Which functions you’d like to have? You will probably need some function to specify an output pin, on which you connect your servo. You will also need a function, which tells the servo how much it should turn itself and a function that reports the current position of your servo. And that’s pretty much all you need as a user. You don’t bother users with implementation details; they are all hidden.</p><p class="css-8qp1bw ezkq0ko0">In my case, I wanted to provide a way to register callbacks, a way to customize the debounce interval, and a way to adjust timeout values used to detect click, double-click, and long-press events. Most of the time, users will just register callback and won’t care about all the default values, but it’s a good practice to give users a way to customize the behavior. However, don’t expose all values. Instead, think of usage scenarios and decide what makes sense to expose. After I made my design decisions, typically, my library is initialized with 1 or 2 lines of code. Perfect! Feel free to check the <a href="https://github.com/JSC-electronics/ObjectButton/tree/master/examples" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">examples</a> of how to use the library.</p><p class="css-8qp1bw ezkq0ko0">Another thing you need to think of is how to structure the code with regards to testing. When you write the code, try to reason how to test it. Typically, you should avoid one large class. Instead, break your code into several smaller classes. Later, you can test them in isolation from the rest of your system. Their functions should be doing only one thing, and their name should give you a hint, what they supposed to do without reading the documentation. Under normal circumstances, these functions are short — less than ten lines of code. The code which implements state machine is usually huge. However, you can move a lot of the functionality into helper functions. When you do that, your state machine will provide a high-level picture of what it does. Here’s an example from my code to notify listeners about the occurrence of the click event.</p><p class="css-8qp1bw ezkq0ko0">Instead of having this code:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">timeDelta </span><span class="token operator">&gt;</span><span class="token plain"> m_clickTicks</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">    m_state </span><span class="token operator">=</span><span class="token plain"> State</span><span class="token operator">::</span><span class="token plain">BUTTON_NOT_PRESSED</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">m_onClickListener </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain">        m_onClickListener</span><span class="token operator">-&gt;</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">You move the logic into another function, like this:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">timeDelta </span><span class="token operator">&gt;</span><span class="token plain"> m_clickTicks</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">    m_state </span><span class="token operator">=</span><span class="token plain"> State</span><span class="token operator">::</span><span class="token plain">BUTTON_NOT_PRESSED</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain">    </span><span class="token function">notifyOnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">6</span><span class="token plain"></span><span class="token comment">// factored-out internal logic</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">7</span><span class="token plain"></span><span class="token keyword">void</span><span class="token plain"> ObjectButton</span><span class="token operator">::</span><span class="token function">notifyOnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">8</span><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">m_onClickListener </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">9</span><span class="token plain">        m_onClickListener</span><span class="token operator">-&gt;</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">10</span><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">If you look at the refactored code, you’ll see at first glance what it does. State machine code can have a lot of <code class="css-0">if ... else</code> clauses; everything that makes it more readable is a good thing. Also, now you can write tests to <code class="css-0">ObjectButton::notifyOnClick()</code>, which is a lot easier than writing tests that verify the same code in the core state machine code.</p><p class="css-8qp1bw ezkq0ko0">If you want to see an example of a more complicated library, which handles access rights, message parsing, and lots of other things, check out our recently published <a href="https://github.com/JSC-electronics/Adeon" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Adeon automation library</a>. We tried hard to hide all the complexity, and we wrote detailed documentation.</p><h2 id="documentation" class="css-fkwewv e18lclmb1">Documentation</h2><p class="css-8qp1bw ezkq0ko0">So, you have a library which does what you intended. As a next step, document your code.</p><p class="css-8qp1bw ezkq0ko0">There are two approaches:</p><ul class="css-1rpojxi eouu7a70"><li class="css-0">Write documentation to your code separately. Take a look at the <a href="https://www.sphinx-doc.org/en/master/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Sphinx</a> library to see the examples. Sphinx uses <a href="http://docutils.sourceforge.net/rst.html" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">reStructuredText</a> as a markup language.</li><li class="css-0">Write documentation inside your code. Such an approach is used heavily in the Java world and its <a href="https://en.wikipedia.org/wiki/Javadoc" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Javadoc</a> documentation generator.</li></ul><p class="css-8qp1bw ezkq0ko0">My suggestion is to combine both approaches. Start with documenting what your library does. Include flowcharts, diagrams, anything that is helpful. <a href="https://en.wikipedia.org/wiki/Markdown" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Markdown</a> serves excellent for this purpose. Moreover, you can put your documents into the same repository as your main code. For example, you could create a <code class="css-0">docs</code> folder to store these documents. If you use <a href="https://github.com/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">GitHub</a> or <a href="https://about.gitlab.com/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">GitLab</a>, you can save the documents inside Wiki. Technically, it’s a separate git repository, but it’s bound to your project, and it’s easily accessible.</p><div class="Image__Medium css-0">
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1029px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:70.26239067055393%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACKUlEQVQ4y4VT7a6dIBD0/V+p6d/2LfrjeM9RjyAK8iXqdBavt0nTpCSTRYRhZ3ZpQsxQNkO7K7Y6cb5hK/sf7Ae2rWDLCWXfEVLGMGr4EGEWC7d6KDNjjRFN5saVpGvc4EKC9RnLGhF5yPlQD1kecJYHVY/VeyJiXhxjqDHEBOwADqAJIaDvewzDwDhAa4Wu6/AeR5RScBwHdma1SzzO+i04z/MrBl76rfuB78NPNClT7mRg5hmGaU/EwmyscySUa/8/hPjhXmh9h2bbNliRQwJrHeZ5uYinCUprZjzVuZ4kmrpmjKlZi/RX/66eHgVVdhNTwvs9Qild47qu9C1ArPDVL0+P6Clxr0kUqYlE8i1JZSJSbZOEkH5JBuOo6s/q2SduD8VPgczvsYQC4wtClm64vK1F6boePYsiWXYsUNt+4EFI/Hg+Kx5tixeLpSlZbClbho07HjpjDrxwP3EKoWR4eySE4lNkG0imVUreag+KpIMyZVzhxLQWPA3bLR3MVPpzp4f0RilVMVK6mC4eykWSfaYvsqd+M4pnt+zChpeCyB7xs0qWthlYjJGEV3WvSoqvsi4tNbzftdqyR9adW2tRBLeSu8UaeVq2H/HsJ/x68oC2mBa+jMDMMg1PW4030natyTnpV7lkYhvFqohPr5B9flHqyPeoPRZloJXDSOJRG0yzg+fT/BtCKBLLZzdUn+l3s9OHxXjKjbwxYJ0tb0pf2f0LN+G/xm/zrToltY73iQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
        <source srcSet="/static/473d72b801a62a7b615c604eb997c919/4cd54/gh-wiki.webp 1029w" sizes="(max-width: 1029px) 100vw, 1029px" type="image/webp"/>
        <source srcSet="/static/473d72b801a62a7b615c604eb997c919/56a24/gh-wiki.png 1029w" sizes="(max-width: 1029px) 100vw, 1029px" type="image/png"/>
        <div data-rmiz-wrap="visible"><img class="Image__Zoom" src="/static/473d72b801a62a7b615c604eb997c919/56a24/gh-wiki.png" alt="GitHub Wiki" style="display:block;margin:0 auto;width:100%;border-radius:0px"/><button aria-label="Zoom image" data-rmiz-btn-open="true" type="button"></button></div>
      </picture>
    </span>
  <figcaption class="css-11o8ky7 e1xodvy30">GitHub Wiki for ObjectButton</figcaption></div><p class="css-8qp1bw ezkq0ko0">After you wrote your high-level overview of the library, it’s time to write comments inside your code. I decided to use <a href="http://doxygen.nl/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Doxygen</a>: it’s a de facto standard, and it’s easy to setup. Also, it supports several styles of comments, including the Javadoc style.</p><h3 id="doxygen" class="css-8fj7fw e18lclmb2">Doxygen</h3><p class="css-8qp1bw ezkq0ko0">If you want to generate Doxygen documentation, you’ll need to create a <a href="https://github.com/JSC-electronics/ObjectButton/blob/master/doc/Doxyfile" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Doxyfile</a>. It’s a template for Doxygen with various settings, e.g., your project name, location of the source code, etc. I was lucky to find a Doxyfile, which somebody adapted for Arduino. One of the vital settings was the inclusion of the <code class="css-0">*.ino</code> files. Doxygen usually doesn’t know that these files contain valid C/C++ code. If you ever need this template, just grab <a href="https://github.com/JSC-electronics/ObjectButton/blob/master/doc/Doxyfile" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">mine</a> and change project name and path.</p><p class="css-8qp1bw ezkq0ko0">If you want to know the details about how to add comments in the code, it’s best to check the <a href="http://doxygen.nl/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Doxygen webpage</a>.</p><p class="css-8qp1bw ezkq0ko0">Here is an example of comment inside the code:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token comment">/**</span></div><div class="token-line"><span class="number-line">2</span><span class="token comment">  * Pointer to object listening to click events. If event listener is not set,</span></div><div class="token-line"><span class="number-line">3</span><span class="token comment">  * such event won&#x27;t be broadcast.</span></div><div class="token-line"><span class="number-line">4</span><span class="token comment">  *</span></div><div class="token-line"><span class="number-line">5</span><span class="token comment">  * @see setOnClickListener(IOnClickListener *listener)</span></div><div class="token-line"><span class="number-line">6</span><span class="token comment">  */</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">7</span><span class="token plain">IOnClickListener </span><span class="token operator">*</span><span class="token plain">m_onClickListener </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">8</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">9</span><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="number-line">10</span><span class="token comment"> * Pointer to object listening to double-click events. If event listener is not set,</span></div><div class="token-line"><span class="number-line">11</span><span class="token comment"> * such event won&#x27;t be broadcast.</span></div><div class="token-line"><span class="number-line">12</span><span class="token comment"> *</span></div><div class="token-line"><span class="number-line">13</span><span class="token comment"> * @see setOnDoubleClickListener(IOnDoubleClickListener *listener)</span></div><div class="token-line"><span class="number-line">14</span><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">15</span><span class="token plain">IOnDoubleClickListener </span><span class="token operator">*</span><span class="token plain">m_onDoubleClickListener </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">nullptr</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">Javadoc comment starts with <code class="css-0">/**</code>, which is still a valid C++ comment. The alternative syntax looks like this: <code class="css-0">///</code>. Also, notice flags like <code class="css-0">@see</code>. These will help you to generate hyperlinks to other classes and functions.</p><p class="css-8qp1bw ezkq0ko0">After you’ve documented your code, generating the documentation is simple. Your Doxyfile has all the information.</p><div style="overflow:auto"><pre class="prism-code language-bash" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token plain">doxygen </span><span class="token operator">&lt;</span><span class="token plain">path to doxyfile</span><span class="token operator">&gt;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">You can put generated documentation anywhere you like. It’s a static HTML page with no external dependencies. I host the documentation on GitHub Pages for free. For inspiration, generated documentation for one of my projects is <a href="https://jsc-electronics.github.io/ObjectButton/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">here</a>.</p><h3 id="keywordstxt" class="css-8fj7fw e18lclmb2">keywords.txt</h3><p class="css-8qp1bw ezkq0ko0">Great, you have decent documentation now. Your library is now in better shape than maybe 80-percent of the libraries. As a next step, create the <code class="css-0">keywords.txt</code> file. Arduino IDE has minimal syntax highlighting capabilities. Therefore, we need to write up all functions, classes, and variables in this file and assign a proper type. Only when Arduino IDE matches a keyword with your definition, it will highlight the code. Creating the <code class="css-0">keywords.txt</code> is mandatory if you want your library included in the official Arduino library registry.</p><div style="overflow:auto"><pre class="prism-code language-" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token plain">#######################################</span></div><div class="token-line"><span class="number-line">2</span><span class="token plain"># Datatypes (KEYWORD1)</span></div><div class="token-line"><span class="number-line">3</span><span class="token plain">#######################################</span></div><div class="token-line"><span class="number-line">4</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain">IOnClickListener    KEYWORD1</span></div><div class="token-line"><span class="number-line">6</span><span class="token plain">IOnDoubleClickListener  KEYWORD1</span></div><div class="token-line"><span class="number-line">7</span><span class="token plain">IOnPressListener    KEYWORD1</span></div><div class="token-line"><span class="number-line">8</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">9</span><span class="token plain">#######################################</span></div><div class="token-line"><span class="number-line">10</span><span class="token plain"># Methods and Functions (KEYWORD2)</span></div><div class="token-line"><span class="number-line">11</span><span class="token plain">#######################################</span></div><div class="token-line"><span class="number-line">12</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">13</span><span class="token plain">getId   KEYWORD2</span></div><div class="token-line"><span class="number-line">14</span><span class="token plain">setOnClickListener  KEYWORD2</span></div><div class="token-line"><span class="number-line">15</span><span class="token plain">setOnDoubleClickListener    KEYWORD2</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">As you can see, you list all your public data types, functions, even classes, and then you assign one of the defined keywords, like <code class="css-0">KEYWORD1</code>. Each keyword corresponds to a different color inside the Arduino IDE. When you need to create this file, check the documentation or other libraries out there.</p><h2 id="examples" class="css-fkwewv e18lclmb1">Examples</h2><p class="css-8qp1bw ezkq0ko0">Lastly, you need to write up some examples of how to use your library. Examples are optional, but they are very beneficial for the users. It’s often the first thing people look for when they search for a library. You can access them directly from Arduino IDE. Think of some basic tasks on how people will use the library and also try to write at least one advanced example. The more examples you write, the better for your users.</p><p class="css-8qp1bw ezkq0ko0">All examples are Arduino project files (<code class="css-0">*.ino</code>), which you can compile from Arduino IDE. If you worked with Arduino, I’m sure you’re more than familiar.</p><p class="css-8qp1bw ezkq0ko0">For inspiration, take a look at the <a href="https://github.com/JSC-electronics/ObjectButton/tree/master/examples" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">examples</a> from my library.</p><h2 id="automated-testing" class="css-fkwewv e18lclmb1">Automated testing</h2><p class="css-8qp1bw ezkq0ko0">Now you have a library, which is well documented and supposedly easy to use. As a next step, write some unit tests to verify that your code does what it supposes to do. Automated testing is still not typical for Arduino libraries, and I’m not surprised. If we look into other programming environments, they often come with an official testing framework or at least a well-known third-party framework. In Java and Android, it’s <a href="https://junit.org/junit5/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">JUnit</a>; Python has a built-in module, <a href="https://docs.python.org/3/library/unittest.html" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">unittest</a>, sometimes people also use <a href="https://docs.pytest.org/en/latest/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">pytest</a>; the C++ world uses <a href="https://github.com/google/googletest" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Googletest</a>. Arduino provides no official testing framework, and you won’t find many articles covering the subject.</p><h3 id="manual-testing-everywhere" class="css-8fj7fw e18lclmb2">Manual testing everywhere</h3><p class="css-8qp1bw ezkq0ko0">Most of the Arduino developers test their code manually. When the code somewhat works, it’s considered complete. If they break the code in future updates, they may not notice this for a long time. Not a good thing!</p><p class="css-8qp1bw ezkq0ko0">Another use case is verification that your code works on multiple hardware boards. If you test it manually on Arduino Uno, how do you know that your library also works on Leonardo? If you verify your code manually on several platforms, you’ll lose time. If you don’t check all supported platforms, you have no guarantee the code will work on all boards.</p><h3 id="compiling-library-for-different-boards" class="css-8fj7fw e18lclmb2">Compiling library for different boards</h3><p class="css-8qp1bw ezkq0ko0">Hopefully, you’ll agree that automated compilation for several boards makes sense. It is trivial to set up, and therefore I think every Arduino library should do it!</p><p class="css-8qp1bw ezkq0ko0">You have several options, how to accomplish this:</p><ul class="css-1rpojxi eouu7a70"><li class="css-0"><a href="https://platformio.org/" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">PlatformIO</a></li><li class="css-0"><a href="https://github.com/adafruit/travis-ci-arduino" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Travis CI Arduino Init Script by Adafruit</a></li><li class="css-0"><a href="https://github.com/ianfixes/arduino_ci" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">ArduinoCI</a></li></ul><h3 id="platformio-approach" class="css-8fj7fw e18lclmb2">PlatformIO approach</h3><p class="css-8qp1bw ezkq0ko0">PlatformIO projects always have a <a href="https://docs.platformio.org/en/latest/projectconf.html" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">platformio.ini</a> file. There you define whole project configuration, including platforms for which you build the binaries. Each platform represents a different Arduino board or even a different CPU architecture.</p><div style="overflow:auto"><pre class="prism-code language-ini" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token plain">; Arduino Uno: First target board</span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">[env:uno]</span></div><div class="token-line"><span class="number-line">3</span><span class="token plain">platform = atmelavr</span></div><div class="token-line"><span class="number-line">4</span><span class="token plain">board = uno</span></div><div class="token-line"><span class="number-line">5</span><span class="token plain">framework = arduino</span></div><div class="token-line"><span class="number-line">6</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">7</span><span class="token plain">; Arduino Mega: Second target board</span></div><div class="token-line"><span class="number-line">8</span><span class="token plain">[env:megaatmega2560]</span></div><div class="token-line"><span class="number-line">9</span><span class="token plain">platform = atmelavr</span></div><div class="token-line"><span class="number-line">10</span><span class="token plain">board = megaatmega2560</span></div><div class="token-line"><span class="number-line">11</span><span class="token plain">framework = arduino</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">When you want to build a code for multiple target platforms, just enter the following commands:</p><div style="overflow:auto"><pre class="prism-code language-bash" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token comment"># pio run -e &lt;target environment&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">pio run -e uno</span></div><div class="token-line"><span class="number-line">3</span><span class="token plain">pio run -e megaatmega2560</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">You can add these commands into a shell script, which you can run repeatedly. In a matter of seconds, you’ll know that your code compiles or that there’s an error.</p><h3 id="examples-build-approach" class="css-8fj7fw e18lclmb2">Examples build approach</h3><p class="css-8qp1bw ezkq0ko0">The other two mentioned options require you to create example sketches to demonstrate how to use your library. You should put these examples inside the <code class="css-0">examples</code> folder, as defined in the <a href="https://github.com/arduino/Arduino/wiki/Arduino-IDE-1.5:-Library-specification" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Arduino library specification</a>. When you run the script, it will go through all your examples and compile them for all listed platforms. When Arduino IDE builds your examples, it also makes your library. It’s their dependency.</p><p class="css-8qp1bw ezkq0ko0">Albeit writing examples is optional, every well-supported library should have at least one. And when you do, preparing your code to work with the build scripts is a matter of minutes. I see no reason not to use it!</p><h2 id="writing-unit-tests" class="css-fkwewv e18lclmb1">Writing unit tests</h2><p class="css-8qp1bw ezkq0ko0">Unit tests examine your library code in isolation. They are sometimes more challenging to write, but pros prevail over cons.</p><p class="css-8qp1bw ezkq0ko0">I found several third-party testing frameworks to use with Arduino:</p><ul class="css-1rpojxi eouu7a70"><li class="css-0"><a href="https://github.com/google/googletest" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Googletest</a> is a general C++ framework, written not with Arduino in mind. However, you can use it. See <a href="https://github.com/FortySevenEffects/arduino_midi_library" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">arduino_midi_library</a> for a practical example.</li><li class="css-0"><a href="https://docs.platformio.org/en/latest/plus/unit-testing.html" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">PlatformIO Unit Testing Framework</a> is also a general-purpose framework, but it’s more focused on testing embedded code. Recently its creators published it as open-source.</li><li class="css-0"><a href="https://github.com/mmurdoch/arduinounit" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">ArduinoUnit</a>; its authors made it explicitly for Arduino. It’s easier to set up for beginners.</li><li class="css-0"><a href="https://github.com/ianfixes/arduino_ci" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">ArduinoCI</a>; its creator took the inspiration from <a href="https://github.com/mmurdoch/arduinounit" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">ArduinoUnit</a> and <a href="https://github.com/adafruit/travis-ci-arduino" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">Travis CI Arduino Init Script by Adafruit</a>.</li></ul><p class="css-8qp1bw ezkq0ko0">Each of these frameworks supports running tests on native machines, which means that you can run the tests on a regular PC without Arduino board connected to it. It is beneficial, especially when you want to set up continuous integration on a remote server.</p><p class="css-8qp1bw ezkq0ko0">For ObjectButton, I chose ArduinoCI as a testing framework. But you can’t make the wrong choice here. Look at all the options and decide what’s best for you.</p><h3 id="why-arduinoci" class="css-8fj7fw e18lclmb2">Why ArduinoCI?</h3><p class="css-8qp1bw ezkq0ko0">ArduinoCI has a good <a href="https://github.com/ianfixes/arduino_ci" target="_blank" rel="noreferrer" class="css-mckguv e116srhk0">overview</a> of the testing frameworks. What got my attention is that it supports mocking of Arduino hardware. Imagine that you want to simulate a button click action. How do you do that without clicking a physical button? If you have control over input pins and internal timer, you can simulate the gesture programmatically. And that’s what ArduinoCI gives at our disposal.</p><p class="css-8qp1bw ezkq0ko0">Also, this framework compiles all tests into native code and supports continuous integration. The only thing I miss is the code coverage reports.</p><div class="Image__Medium css-0">
  <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:795px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:73.9622641509434%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABUUlEQVQ4y42UZ46DQAxGcxR6FEJLaKHf/1RePUtGoyWw+8Oab9obN7jd73fJskyqqpKyLFVjeZ5LmqYSBIH4vn8wW2d07QYQGAD078NhGB7sDKbAJEkU9nq9pGkaGcdR3u+3fD4f1dg0Tbvu+16iKLoGxnGs4XJ4WRbVAAExX9dV5nnWESiReJ731VMFYoQNkEvoYRh2CFAD2/zxeOzQQw4BFkWhoeMdxUCzxhwzTcHYPwt7L0pd19K2rXqJJmQ0nqK7rtN9C/es0nvIvM4lwsEbN4eu8QDe/SuHQLZt04qTfADMLW9oRh7mzteQ2eBFvAJK6zyfT4VaGlhzDaDbs4ccEi69B8TyydyMNfY4S4v9mUOqxgXrQ7S1jZs/60O+lkug29jWh1YU6z2DA6SlTr9lYAYkP0DIJ3kyqPsJGviysdkEYs1LUUy764ycv/pB/ADu9ceqrhXBfAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
        <source srcSet="/static/5c89aba92f45285a84f9afa09c6ba8a7/55cb6/travisci-unittest.webp 795w" sizes="(max-width: 795px) 100vw, 795px" type="image/webp"/>
        <source srcSet="/static/5c89aba92f45285a84f9afa09c6ba8a7/f3b74/travisci-unittest.png 795w" sizes="(max-width: 795px) 100vw, 795px" type="image/png"/>
        <div data-rmiz-wrap="visible"><img class="Image__Zoom" src="/static/5c89aba92f45285a84f9afa09c6ba8a7/f3b74/travisci-unittest.png" alt="ArduinoCI Unittest" style="display:block;margin:0 auto;width:100%;border-radius:0px"/><button aria-label="Zoom image" data-rmiz-btn-open="true" type="button"></button></div>
      </picture>
    </span>
  <figcaption class="css-11o8ky7 e1xodvy30">ArduinoCI unit tests run by Travis CI</figcaption></div><h3 id="test-features" class="css-8fj7fw e18lclmb2">Test Features</h3><p class="css-8qp1bw ezkq0ko0">All your test files go into the <code class="css-0">test</code> folder. You name them usually as the tested feature. ObjectButton should be able to recognize three types of distinct actions.</p><p class="css-8qp1bw ezkq0ko0">I created three test files to represent those and one test file to verify fundamental functionality:</p><ul class="css-1rpojxi eouu7a70"><li class="css-0"><code class="css-0">action_click.cpp</code> to run all unit tests related to button clicks</li><li class="css-0"><code class="css-0">action_double_click.cpp</code> to run unit tests related to double-clicks</li><li class="css-0"><code class="css-0">action_press_release.cpp</code> to run unit tests related to a button press, long press, etc.</li><li class="css-0"><code class="css-0">sanity_checks.cpp</code> to verify functions like <code class="css-0">getId</code> to return proper button id</li></ul><p class="css-8qp1bw ezkq0ko0">Each test file contains one or more unit tests related to the feature. You could write all the tests in one big file, and your tests would run just fine. However, if you split them into several test files by feature, you have fine-grained control over running a subset of tests. Also, if one of your tests fails, you should be able to locate it quicker.</p><h3 id="writing-a-unit-test" class="css-8fj7fw e18lclmb2">Writing a unit test</h3><p class="css-8qp1bw ezkq0ko0">Let’s go through a test, which verifies that our library correctly detects a click action.</p><p class="css-8qp1bw ezkq0ko0">To write a test for a click action, first, you need to understand what a click <em class="css-0">is</em>. Did you ever think of that? Usually, when we use things, we don’t reason how precisely they work, but when we want to test a click action, we must define what a click is and how it will be detected. Then we can write a test to capture the behavior.</p><p class="css-8qp1bw ezkq0ko0"><strong class="css-0">Definition:</strong> A click is an action, which occurs when a user presses a button and then releases the button. Press and release should happen before the click timeout elapses, and also button should not be touched again during that time (it would be possibly a double-click action).</p><p class="css-8qp1bw ezkq0ko0">Now when we’ve defined what a click is, we can simulate a click in our test:</p><ul class="css-1rpojxi eouu7a70"><li class="css-0">A user presses the button</li><li class="css-0">A user releases the button</li><li class="css-0">Button press and release happened within defined <code class="css-0">click</code> timeout</li></ul><p class="css-8qp1bw ezkq0ko0">Below is a real example from my test suite:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token function">unittest</span><span class="token punctuation">(</span><span class="token plain">receive_on_click_event_after_default_click_ticks</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">    ListenerMock testMock </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">ListenerMock</span><span class="token punctuation">(</span><span class="token plain">INPUT_PIN</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">3</span><span class="token plain">    GodmodeState</span><span class="token operator">*</span><span class="token plain"> state </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">GODMODE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">4</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">5</span><span class="token plain">    </span><span class="token comment">// press button</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">6</span><span class="token plain">    state</span><span class="token operator">-&gt;</span><span class="token plain">digitalPin</span><span class="token punctuation">[</span><span class="token plain">INPUT_PIN</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> LOW</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">7</span><span class="token plain">    testMock</span><span class="token punctuation">.</span><span class="token function">getButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">8</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">9</span><span class="token plain">    </span><span class="token comment">// fire press event after debounce period elapses</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">10</span><span class="token plain">    state</span><span class="token operator">-&gt;</span><span class="token plain">micros </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">DEFAULT_DEBOUNCE_TICKS_MS </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">11</span><span class="token plain">    testMock</span><span class="token punctuation">.</span><span class="token function">getButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">12</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">13</span><span class="token plain">    </span><span class="token comment">// release button</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">14</span><span class="token plain">    state</span><span class="token operator">-&gt;</span><span class="token plain">digitalPin</span><span class="token punctuation">[</span><span class="token plain">INPUT_PIN</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> HIGH</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">15</span><span class="token plain">    state</span><span class="token operator">-&gt;</span><span class="token plain">micros </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">DEFAULT_CLICK_TICKS_MS </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">16</span><span class="token plain">    testMock</span><span class="token punctuation">.</span><span class="token function">getButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">17</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">18</span><span class="token plain">    </span><span class="token comment">// refresh state machine to get click event</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">19</span><span class="token plain">    testMock</span><span class="token punctuation">.</span><span class="token function">getButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">20</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">21</span><span class="token plain">    </span><span class="token comment">// validate click event</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">22</span><span class="token plain">    </span><span class="token function">assertEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> testMock</span><span class="token punctuation">.</span><span class="token function">getPressEventsReceivedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">23</span><span class="token plain">    </span><span class="token function">assertEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> testMock</span><span class="token punctuation">.</span><span class="token function">getReleaseEventsReceivedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">24</span><span class="token plain">    </span><span class="token function">assertEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> testMock</span><span class="token punctuation">.</span><span class="token function">getClickEventsReceivedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">25</span><span class="token plain">    </span><span class="token function">assertEqual</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> testMock</span><span class="token punctuation">.</span><span class="token function">getDoubleClickEventsReceivedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">26</span><span class="token plain">    </span><span class="token function">assertEqual</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> testMock</span><span class="token punctuation">.</span><span class="token function">getLongPressStartEventsReceivedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">27</span><span class="token plain">    </span><span class="token function">assertEqual</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> testMock</span><span class="token punctuation">.</span><span class="token function">getLongPressEndEventsReceivedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">28</span><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p class="css-8qp1bw ezkq0ko0"><strong class="css-0">State: A user pressed the button</strong>
In this case, we consider a button as pressed when the voltage level on the input pin is 0 Volts. Thanks to ArduinoCI, we can simulate that very easily:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token plain">state</span><span class="token operator">-&gt;</span><span class="token plain">digitalPin</span><span class="token punctuation">[</span><span class="token plain">INPUT_PIN</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> LOW</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0"><code class="css-0">state</code> is a pointer to ArduinoCI structure, which controls “virtual” Arduino running our test.</p><p class="css-8qp1bw ezkq0ko0">Now, we’ve pressed a button, and we need to release it after a particular time. If we just changed the input pin voltage, the internal timer would still return the same value — 0. Virtually no time has passed. To simulate time, we need to set <code class="css-0">micros,</code> i.e.:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token plain">state</span><span class="token operator">-&gt;</span><span class="token plain">micros </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">DEFAULT_DEBOUNCE_TICKS_MS </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0"><em class="css-0">Note that you control the timer by specifying time in microseconds, not milliseconds (as used by the <code class="css-0">millis()</code> function).</em></p><p class="css-8qp1bw ezkq0ko0"><strong class="css-0">State: A user released the button</strong>
A user holds the button for some time; it’s time to release it.</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token plain">state</span><span class="token operator">-&gt;</span><span class="token plain">digitalPin</span><span class="token punctuation">[</span><span class="token plain">INPUT_PIN</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> HIGH</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="number-line">2</span><span class="token plain">state</span><span class="token operator">-&gt;</span><span class="token plain">micros </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">DEFAULT_CLICK_TICKS_MS </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">We’ve just set an input pin to 3.3 Volts, which simulates releasing the button. If needed, you can also shift internal timer to simulate a real scenario.</p><p class="css-8qp1bw ezkq0ko0"><strong class="css-0">Did the library detect the click action?</strong>
Our unit test simulates precisely a click action. If our library works correctly, it will notify our <code class="css-0">OnClickListener</code> about this action. We usually verify the results at the end of the test:</p><div style="overflow:auto"><pre class="prism-code language-cpp" style="position:relative"><button data-a11y="false" class="css-1chxjt6 eu6xrih0">Copy <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#6f7177"></path></svg></button><div class="token-line"><span class="number-line">1</span><span class="token function">assertEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> testMock</span><span class="token punctuation">.</span><span class="token function">getClickEventsReceivedCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><p class="css-8qp1bw ezkq0ko0">Above code checks, if <code class="css-0">ObjectButton</code> sent precisely one notification about click event. To capture all events reported from my library, I created a helper listener registered for all events supported by the library. This listener increments an internal counter each time an event is received. It shows that you are not limited purely to a framework, but you can extend the framework to suit your specific needs.</p><h2 id="confidence" class="css-fkwewv e18lclmb1">Confidence</h2><p class="css-8qp1bw ezkq0ko0">Why it’s useful to have unit tests? It’s a confidence that my code does what it should do. Similarly to the previous test case, you write other tests. They should capture expected behavior — what you specified that your library should do — and verify that your library does that.</p><p class="css-8qp1bw ezkq0ko0">Writing tests is time-consuming, but running them is not. You can repeatedly run a test suite within seconds. It’s particularly useful when you work on a new feature, and you want to make sure that you didn’t affect existing functionality by introducing a bug. In the case of <code class="css-0">ObjectButton,</code> all the internal logic happens in a state machine. Those of you, who implemented a state machine, know how tedious it can be. Sometimes it’s not clear at first glance what the code does. If you change the implementation of the state machine, there’s a high probability of introducing a bug. But if you have a working test suite, you can verify that everything still works, and you may always be confident about your code.</p><h3 id="new-feature--new-tests" class="css-8fj7fw e18lclmb2">New feature == new tests</h3><p class="css-8qp1bw ezkq0ko0">If you implement a new feature, which changes existing library behavior or adds new functionality, you should also write new unit tests or adapt existing ones. Maintaining your test suite should be a regular part of your development practice. Otherwise, over time your confidence level will sink just because you didn’t test new functionality.</p><h2 id="conclusion" class="css-fkwewv e18lclmb1">Conclusion</h2><p class="css-8qp1bw ezkq0ko0">In this post, I wrote about the necessary actions to produce quality Arduino libraries. These principles are also valid in your projects. You should still document what your code does, and you should at least consider writing some tests. You can run the test suite from the command line. Web developers are familiar with the workflow.</p><p class="css-8qp1bw ezkq0ko0">Even if you documented and tested your code, you still have some work to do. Next time I will explain how to automate your workflow and set up continuous integration for your repository to automatically run the tests and build the documentation after each commit.</p><p class="css-8qp1bw ezkq0ko0">If you have some questions or you have a feeling that I forgot about something, please let me know in the comments. Thanks!</p><style data-emotion-css="akmrme animation-1xhp7f5">.css-akmrme{position:absolute;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:1;width:225px;height:46px;padding:7px 11px 7px 19px;color:var(--theme-ui-colors-grey,#73737D);background:#000;border-radius:5px;font-size:18px;font-weight:600;-webkit-transition:left 75ms ease-out,right 75ms ease-out,background 200ms;transition:left 75ms ease-out,right 75ms ease-out,background 200ms;-webkit-animation:animation-1xhp7f5 200ms forwards;animation:animation-1xhp7f5 200ms forwards;}.css-akmrme::after{content:'';position:absolute;left:0;right:0;margin:0 auto;bottom:-8px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #000;-webkit-transition:border-color 200ms;transition:border-color 200ms;}.css-akmrme svg path{fill:#fff;}@-webkit-keyframes animation-1xhp7f5{0%{-webkit-transform:matrix(.97,0,0,1,0,12);-ms-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12);opacity:0;}20%{-webkit-transform:matrix(.99,0,0,1,0,2);-ms-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2);opacity:.7;}40%{-webkit-transform:matrix(1,0,0,1,0,-1);-ms-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1);opacity:1;}70%{-webkit-transform:matrix(1,0,0,1,0,0);-ms-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0);opacity:1;}100%{-webkit-transform:matrix(1,0,0,1,0,0);-ms-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0);opacity:1;}}@keyframes animation-1xhp7f5{0%{-webkit-transform:matrix(.97,0,0,1,0,12);-ms-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12);opacity:0;}20%{-webkit-transform:matrix(.99,0,0,1,0,2);-ms-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2);opacity:.7;}40%{-webkit-transform:matrix(1,0,0,1,0,-1);-ms-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1);opacity:1;}70%{-webkit-transform:matrix(1,0,0,1,0,0);-ms-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0);opacity:1;}100%{-webkit-transform:matrix(1,0,0,1,0,0);-ms-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0);opacity:1;}}</style><div style="position:absolute;left:0px;top:0px;display:none;pointer-events:none" class="css-akmrme e1ocrz2j0"><style data-emotion-css="12z0wuy">.css-12z0wuy{margin-right:8px;}</style><span class="css-12z0wuy e1ocrz2j1">Share: </span><style data-emotion-css="pd22cz">.css-pd22cz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 11px;cursor:pointer;}</style><a class="css-pd22cz e1ocrz2j3"><style data-emotion-css="18l3o48">.css-18l3o48{width:0px;height:0px;visibility:hidden;opacity:0;}</style><div class="css-18l3o48 e1ocrz2j2">Share the selected text</div><svg width="18px" height="15px" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.0658 2.34438C14.7013 1.96349 15.1892 1.3604 15.419 0.641811C14.8244 0.994439 14.1658 1.25056 13.4648 1.3886C12.9034 0.7905 12.1036 0.416748 11.2185 0.416748C9.51888 0.416748 8.14096 1.79461 8.14096 3.49411C8.14096 3.7353 8.16822 3.97019 8.22068 4.19542C5.66301 4.06708 3.39543 2.84191 1.8776 0.980064C1.6127 1.43458 1.46094 1.96322 1.46094 2.52719C1.46094 3.59485 2.00428 4.5368 2.83003 5.08865C2.32553 5.07268 1.85104 4.93425 1.43608 4.70376C1.43586 4.71659 1.43586 4.72949 1.43586 4.74244C1.43586 6.23349 2.49666 7.47732 3.90448 7.75999C3.64622 7.83033 3.37436 7.86792 3.09366 7.86792C2.89537 7.86792 2.70257 7.84866 2.51471 7.81272C2.90629 9.03537 4.0428 9.92509 5.38945 9.94994C4.33623 10.7753 3.00928 11.2673 1.56749 11.2673C1.31911 11.2673 1.07413 11.2528 0.833374 11.2243C2.19527 12.0975 3.81291 12.6069 5.55081 12.6069C11.2113 12.6069 14.3067 7.91763 14.3067 3.85096C14.3067 3.71753 14.3037 3.5848 14.2978 3.45285C14.899 3.01896 15.4208 2.47694 15.8334 1.8598C15.2815 2.10456 14.6884 2.26998 14.0658 2.34438Z" fill="white"></path></svg></a><a class="css-pd22cz e1ocrz2j3"><div class="css-18l3o48 e1ocrz2j2">Share the selected text</div><svg width="16px" height="16px" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.59615 13.125H0.871552V4.36523H3.59615V13.125ZM2.24847 3.16406C1.81878 3.16406 1.44769 3.00781 1.13519 2.69531C0.822692 2.38281 0.666443 2.01171 0.666443 1.58203C0.666443 1.15234 0.822692 0.781248 1.13519 0.468749C1.44769 0.156249 1.81878 0 2.24847 0C2.67816 0 3.04925 0.156249 3.36175 0.468749C3.67425 0.781248 3.8305 1.15234 3.8305 1.58203C3.8305 2.01171 3.67425 2.38281 3.36175 2.69531C3.04925 3.00781 2.67816 3.16406 2.24847 3.16406ZM13.7915 13.125H11.0669V8.84765C11.0669 8.14452 11.0083 7.63671 10.8911 7.32421C10.6763 6.79687 10.2563 6.5332 9.63134 6.5332C9.00634 6.5332 8.56689 6.76757 8.31298 7.23632C8.11767 7.58788 8.02001 8.10546 8.02001 8.78905V13.125H5.32471V4.36523H7.93212V5.5664H7.96142C8.15673 5.17578 8.46923 4.85351 8.89892 4.59961C9.36767 4.28711 9.91454 4.13086 10.5395 4.13086C11.8091 4.13086 12.6977 4.53125 13.2055 5.33203C13.5962 5.97656 13.7915 6.97265 13.7915 8.3203V13.125Z" fill="white"></path></svg></a><style data-emotion-css="1lnhvdd">.css-1lnhvdd{display:inline-block;height:17px;width:1px;position:relative;margin:0 8px;background:rgba(115,115,125,0.3);}</style><div class="css-1lnhvdd e1ocrz2j5"></div><style data-emotion-css="15hjez6">.css-15hjez6{display:inline-block;padding:16px 11px;}</style><button aria-label="Copy selected text" class="css-15hjez6 e1ocrz2j4"><svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.0475 0.905273H1.67197C0.812542 0.905273 0.109375 1.60844 0.109375 2.46787V13.406H1.67197V2.46787H11.0475V0.905273ZM13.3914 4.03046H4.79716C3.93773 4.03046 3.23456 4.73363 3.23456 5.59306V16.5312C3.23456 17.3906 3.93773 18.0938 4.79716 18.0938H13.3914C14.2509 18.0938 14.954 17.3906 14.954 16.5312V5.59306C14.954 4.73363 14.2509 4.03046 13.3914 4.03046ZM13.3914 16.5312H4.79716V5.59306H13.3914V16.5312Z" fill="#08080B"></path></svg></button></div></div></article><style data-emotion-css="22flet">.css-22flet{max-width:1140px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:32px 32px 55px;margin:10px auto 100px;background:var(--theme-ui-colors-card,#fff);box-shadow:0px 4px 50px rgba(0,0,0,0.05);z-index:1;}@media (max-width:45.9375em){.css-22flet{padding:16px 8 8;text-align:center;}}</style><div class="css-22flet eamsocw5"><div id="disqus_thread"></div></div><style data-emotion-css="npfbur">.css-npfbur{width:100%;max-width:1220px;margin:0 auto;padding:0 4rem;display:block;}@media (max-width:66.875em){.css-npfbur{max-width:850px;}}@media (max-width:45.9375em){.css-npfbur{padding:0 2rem;max-width:527px;}}@media (max-width:33.75em){.css-npfbur{max-width:100%;}}</style><section class="css-npfbur eamsocw2"><style data-emotion-css="1vgsxfa">.css-1vgsxfa{position:relative;opacity:0.25;margin-bottom:100px;font-weight:400;color:var(--theme-ui-colors-primary,#000);}@media (max-width:45.9375em){.css-1vgsxfa{margin-bottom:60px;}}.css-1vgsxfa::after{content:'';position:absolute;background:var(--theme-ui-colors-grey,#73737D);width:79.82456140350878%;height:1px;right:0;top:11px;}@media (max-width:45.9375em){.css-1vgsxfa::after{width:52.63157894736842%;}}@media (max-width:33.75em){.css-1vgsxfa::after{width:35.08771929824561%;}}@media (max-width:23.5em){.css-1vgsxfa::after{width:90px;}}</style><h3 class="css-1vgsxfa eamsocw3">More articles from <!-- -->Vladimír Záhradník</h3><style data-emotion-css="80jzpj">.css-80jzpj{position:relative;display:grid;grid-template-columns:1fr 457px;grid-template-rows:2;-webkit-column-gap:30px;column-gap:30px;margin:0 auto;max-width:100%;}@media (max-width:66.875em){.css-80jzpj{grid-template-columns:1fr 1fr;}}@media (max-width:45.9375em){.css-80jzpj{grid-template-columns:1fr;}}</style><div class="css-80jzpj e1h0blpq0"><style data-emotion-css="1vg4mbv">.css-1vg4mbv{position:relative;display:block;width:100%;height:100%;top:0;left:0;z-index:1;-webkit-transition:-webkit-transform 0.33s var(--ease-out-quart);-webkit-transition:transform 0.33s var(--ease-out-quart);transition:transform 0.33s var(--ease-out-quart);-webkit-tap-highlight-color:rgba(255,255,255,0);}.css-1vg4mbv:hover .e1h0blpq1{-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 50px 80px -20px rgba(0,0,0,0.27),0 30px 50px -30px rgba(0,0,0,0.3);}.css-1vg4mbv:hover h2,.css-1vg4mbv:focus h2{color:var(--theme-ui-colors-accent,#6166DC);}.css-1vg4mbv[data-a11y="true"]:focus::after{content:"";position:absolute;left:-2%;top:-2%;width:104%;height:104%;border:3px solid var(--theme-ui-colors-accent,#6166DC);background:rgba(255,255,255,0.01);}@media (max-width:33.75em){.css-1vg4mbv:hover .e1h0blpq1{-webkit-transform:none;-ms-transform:none;transform:none;box-shadow:initial;}.css-1vg4mbv:active{-webkit-transform:scale(0.97) translateY(3px);-ms-transform:scale(0.97) translateY(3px);transform:scale(0.97) translateY(3px);}}</style><a data-a11y="false" narrow="false" class="css-1vg4mbv e1h0blpq6" href="/the-&quot;zero-fucks-given&quot;-approach"><style data-emotion-css="1g2qwvh">.css-1g2qwvh{position:relative;}@media (max-width:540px){.css-1g2qwvh{box-shadow:0px 20px 40px rgba(0,0,0,0.2);border-bottom-right-radius:5px;border-bottom-left-radius:5px;background:var(--theme-ui-colors-card,#fff);}}</style><div class="css-1g2qwvh e1h0blpq2"><style data-emotion-css="f56zxy">.css-f56zxy{position:relative;height:280px;box-shadow:0 30px 60px -10px rgba(0,0,0,0.3),0 18px 36px -18px rgba(0,0,0,0.33);margin-bottom:30px;-webkit-transition:-webkit-transform 0.3s var(--ease-out-quad),box-shadow 0.3s var(--ease-out-quad);-webkit-transition:transform 0.3s var(--ease-out-quad),box-shadow 0.3s var(--ease-out-quad);transition:transform 0.3s var(--ease-out-quad),box-shadow 0.3s var(--ease-out-quad);}.css-f56zxy > div{height:100%;}@media (max-width:45.9375em){.css-f56zxy{height:220px;margin-bottom:35px;}}@media (max-width:33.75em){.css-f56zxy{height:200px;margin-bottom:0;box-shadow:none;overflow:hidden;border-top-right-radius:5px;border-top-left-radius:5px;}}</style><div class="css-f56zxy e1h0blpq1"><div class="css-133qvua e13158qv0 gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:65.6441717791411%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAAB59keN8pQY//EABkQAAIDAQAAAAAAAAAAAAAAAAABAgMTIf/aAAgBAQABBQKMTiGK03Zsz//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAwEBPwESy//EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8Bm2v/xAAaEAACAgMAAAAAAAAAAAAAAAAAARAxITKR/9oACAEBAAY/AjC7GqKKR//EABwQAQACAgMBAAAAAAAAAAAAAAEAETFBIXGBwf/aAAgBAQABPyEF1XcQr9IBeVm/mjRhG75z/9oADAMBAAIAAwAAABCbz//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCCMP/EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAgEBPxAJtn//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQBBITGB/9oACAEBAAE/EA4pqM+NUWnJ8/Mpvo7NBgF0w2WHi6tCz//Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/54aad3e420212e415ffce12b64025a9b/ac59e/hero.webp 163w,
/static/54aad3e420212e415ffce12b64025a9b/7660b/hero.webp 327w,
/static/54aad3e420212e415ffce12b64025a9b/0acdf/hero.webp 653w,
/static/54aad3e420212e415ffce12b64025a9b/75470/hero.webp 980w,
/static/54aad3e420212e415ffce12b64025a9b/b923f/hero.webp 1280w" sizes="(max-width: 653px) 100vw, 653px" /><source srcset="/static/54aad3e420212e415ffce12b64025a9b/3a5ce/hero.jpg 163w,
/static/54aad3e420212e415ffce12b64025a9b/05730/hero.jpg 327w,
/static/54aad3e420212e415ffce12b64025a9b/1dc0b/hero.jpg 653w,
/static/54aad3e420212e415ffce12b64025a9b/f72c7/hero.jpg 980w,
/static/54aad3e420212e415ffce12b64025a9b/68386/hero.jpg 1280w" sizes="(max-width: 653px) 100vw, 653px" /><img loading="lazy" sizes="(max-width: 653px) 100vw, 653px" srcset="/static/54aad3e420212e415ffce12b64025a9b/3a5ce/hero.jpg 163w,
/static/54aad3e420212e415ffce12b64025a9b/05730/hero.jpg 327w,
/static/54aad3e420212e415ffce12b64025a9b/1dc0b/hero.jpg 653w,
/static/54aad3e420212e415ffce12b64025a9b/f72c7/hero.jpg 980w,
/static/54aad3e420212e415ffce12b64025a9b/68386/hero.jpg 1280w" src="/static/54aad3e420212e415ffce12b64025a9b/1dc0b/hero.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><style data-emotion-css="1iwkho8">.css-1iwkho8{word-break:keep-all;font-size:24px;line-height:1.45;font-weight:bold;color:var(--theme-ui-colors-primary,#000);font-family:'Merriweather',Georgia,Serif;font-size:22px;line-height:1.4;margin-bottom:10px;color:var(--theme-ui-colors-primary,#000);font-family:'Merriweather',Georgia,Serif;-webkit-transition:color 0.3s ease-in-out;transition:color 0.3s ease-in-out;text-overflow:ellipsis;overflow-wrap:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;white-space:normal;overflow:hidden;}@media (max-width:45.9375em){.css-1iwkho8{font-size:22px;}}@media (max-width:33.75em){.css-1iwkho8{font-size:20px;}}@media (max-width:33.75em){.css-1iwkho8{-webkit-line-clamp:3;}}@media (max-width:45.9375em){.css-1iwkho8{margin-bottom:15px;}}@media (max-width:33.75em){.css-1iwkho8{padding:30px 20px 0;margin-bottom:10px;-webkit-line-clamp:3;}}</style><h3 class="css-1iwkho8 e1h0blpq3">The &quot;Zero Fucks Given&quot; Approach</h3><style data-emotion-css="1rec7sy">.css-1rec7sy{text-overflow:ellipsis;overflow-wrap:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;white-space:normal;overflow:hidden;font-size:16px;margin-bottom:10px;color:var(--theme-ui-colors-grey,#73737D);display:box;max-width:515px;}@media (max-width:33.75em){.css-1rec7sy{-webkit-line-clamp:3;}}@media (max-width:66.875em){.css-1rec7sy{display:-webkit-box;}}@media (max-width:45.9375em){.css-1rec7sy{margin-bottom:15px;}}@media (max-width:33.75em){.css-1rec7sy{max-width:100%;padding:0 20px;margin-bottom:20px;-webkit-line-clamp:3;}}</style><p class="css-1rec7sy e1h0blpq4">How to direct our energy to things that matter?</p><style data-emotion-css="118hiy6">.css-118hiy6{font-weight:600;font-size:16px;color:var(--theme-ui-colors-grey,#73737D);opacity:0.33;}@media (max-width:33.75em){.css-118hiy6{max-width:100%;padding:0 20px 30px;}}</style><div class="css-118hiy6 e1h0blpq5">February 3rd, 2021<!-- --> · <!-- -->4<!-- --> min read</div> </div></a><style data-emotion-css="5u8a0y">.css-5u8a0y{position:relative;display:block;width:100%;height:100%;top:0;left:0;z-index:1;-webkit-transition:-webkit-transform 0.33s var(--ease-out-quart);-webkit-transition:transform 0.33s var(--ease-out-quart);transition:transform 0.33s var(--ease-out-quart);-webkit-tap-highlight-color:rgba(255,255,255,0);}.css-5u8a0y:hover .e1h0blpq1{-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 50px 80px -20px rgba(0,0,0,0.27),0 30px 50px -30px rgba(0,0,0,0.3);}.css-5u8a0y:hover h2,.css-5u8a0y:focus h2{color:var(--theme-ui-colors-accent,#6166DC);}.css-5u8a0y[data-a11y="true"]:focus::after{content:"";position:absolute;left:-2%;top:-2%;width:104%;height:104%;border:3px solid var(--theme-ui-colors-accent,#6166DC);background:rgba(255,255,255,0.01);}@media (max-width:45.9375em){.css-5u8a0y{display:none;}}@media (max-width:33.75em){.css-5u8a0y:hover .e1h0blpq1{-webkit-transform:none;-ms-transform:none;transform:none;box-shadow:initial;}.css-5u8a0y:active{-webkit-transform:scale(0.97) translateY(3px);-ms-transform:scale(0.97) translateY(3px);transform:scale(0.97) translateY(3px);}}</style><a data-a11y="false" narrow="true" class="css-5u8a0y e1h0blpq6" href="/value-of-a-blog"><div class="css-1g2qwvh e1h0blpq2"><div class="css-f56zxy e1h0blpq1"><div class="css-133qvua e13158qv0 gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:66.66666666666667%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHIrFqUqR//xAAcEAABAwUAAAAAAAAAAAAAAAAAAQISAxEhIjH/2gAIAQEAAQUCSCEzJwfqNp3T/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Biv/EABsQAAEEAwAAAAAAAAAAAAAAAAABEBExITJh/9oACAEBAAY/AqkxCFsnTY//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhQVFhcYH/2gAIAQEAAT8h7V+WXDPrIqdVxyXsFeUJbj5P/9oADAMBAAIAAwAAABCLH//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKj/xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPxCB/8QAHhABAAICAQUAAAAAAAAAAAAAAQARIUExUWFxwdH/2gAIAQEAAT8QGtO0eaOZbBJqu/cdrupYBYy0YIAAwWar7BV1tEf/2Q==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/aebd5c418e3a8ae84cb20e0d28304545/31fce/hero.webp 114w,
/static/aebd5c418e3a8ae84cb20e0d28304545/e3e25/hero.webp 229w,
/static/aebd5c418e3a8ae84cb20e0d28304545/15384/hero.webp 457w,
/static/aebd5c418e3a8ae84cb20e0d28304545/0258d/hero.webp 686w,
/static/aebd5c418e3a8ae84cb20e0d28304545/64ea2/hero.webp 914w,
/static/aebd5c418e3a8ae84cb20e0d28304545/30cf3/hero.webp 1920w" sizes="(max-width: 457px) 100vw, 457px" /><source srcset="/static/aebd5c418e3a8ae84cb20e0d28304545/5a3ee/hero.jpg 114w,
/static/aebd5c418e3a8ae84cb20e0d28304545/41f8f/hero.jpg 229w,
/static/aebd5c418e3a8ae84cb20e0d28304545/eaa58/hero.jpg 457w,
/static/aebd5c418e3a8ae84cb20e0d28304545/c309b/hero.jpg 686w,
/static/aebd5c418e3a8ae84cb20e0d28304545/e3008/hero.jpg 914w,
/static/aebd5c418e3a8ae84cb20e0d28304545/097fa/hero.jpg 1920w" sizes="(max-width: 457px) 100vw, 457px" /><img loading="lazy" sizes="(max-width: 457px) 100vw, 457px" srcset="/static/aebd5c418e3a8ae84cb20e0d28304545/5a3ee/hero.jpg 114w,
/static/aebd5c418e3a8ae84cb20e0d28304545/41f8f/hero.jpg 229w,
/static/aebd5c418e3a8ae84cb20e0d28304545/eaa58/hero.jpg 457w,
/static/aebd5c418e3a8ae84cb20e0d28304545/c309b/hero.jpg 686w,
/static/aebd5c418e3a8ae84cb20e0d28304545/e3008/hero.jpg 914w,
/static/aebd5c418e3a8ae84cb20e0d28304545/097fa/hero.jpg 1920w" src="/static/aebd5c418e3a8ae84cb20e0d28304545/eaa58/hero.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><h3 class="css-1iwkho8 e1h0blpq3">Value of a blog</h3><p class="css-1rec7sy e1h0blpq4">Would you post foreign content on your site? What is your price?</p><div class="css-118hiy6 e1h0blpq5">January 16th, 2021<!-- --> · <!-- -->3<!-- --> min read</div> </div></a></div><style data-emotion-css="1xyudza">.css-1xyudza{margin-bottom:65px;}</style><div class="css-1xyudza eamsocw4"></div></section><style data-emotion-css="1hk9het">.css-1hk9het{position:absolute;bottom:0;left:0;width:100%;height:590px;z-index:0;pointer-events:none;background:var(--theme-ui-colors-gradient,linear-gradient(180deg,rgba(217,219,224,0) 0%,#D9DBE0 100%));-webkit-transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad),color 0.25s var(--ease-in-out-quad);}</style><div class="css-1hk9het e9nvoze3"></div><style data-emotion-css="4j05o4">.css-4j05o4{width:100%;max-width:1220px;margin:0 auto;padding:0 4rem;}@media (max-width:66.875em){.css-4j05o4{max-width:850px;}}@media (max-width:45.9375em){.css-4j05o4{padding:0 2rem;max-width:527px;}}@media (max-width:33.75em){.css-4j05o4{max-width:100%;}}</style><section class="css-4j05o4 e9w9r0m0"><style data-emotion-css="1nedy0r">.css-1nedy0r{position:relative;margin:140px auto 50px;border-bottom:1px solid var(--theme-ui-colors-horizontalRule,rgba(8,8,11,0.15));}@media (max-width:45.9375em){.css-1nedy0r{margin:60px auto;}}@media (max-width:33.75em){.css-1nedy0r{display:none;}}</style><div class="css-1nedy0r e9nvoze1"></div><style data-emotion-css="1d54ci6">.css-1d54ci6{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:80px;color:var(--theme-ui-colors-grey,#73737D);}@media (max-width:45.9375em){.css-1d54ci6{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-bottom:100px;}}@media (max-width:33.75em){.css-1d54ci6{padding-bottom:50px;}}</style><div class="css-1d54ci6 e9nvoze0"><style data-emotion-css="1pt7hv6">@media (max-width:45.9375em){.css-1pt7hv6{margin-bottom:80px;}}@media (max-width:33.75em){.css-1pt7hv6{margin:120px auto 100px;}}</style><div class="css-1pt7hv6 e9nvoze2">© <!-- -->2018–2021<!-- --> <!-- -->Vladimír Záhradník</div><div><style data-emotion-css="10tgu6b">.css-10tgu6b{position:relative;margin-left:3.2rem;-webkit-text-decoration:none;text-decoration:none;max-width:16px;}.css-10tgu6b:hover svg:hover *{fill:var(--theme-ui-colors-primary,#000);}.css-10tgu6b:hover svg *{-webkit-transition:fill 0.25s var(--ease-in-out-quad);transition:fill 0.25s var(--ease-in-out-quad);}.css-10tgu6b:first-of-type{margin-left:0;}.css-10tgu6b:last-child{margin-right:0;}.css-10tgu6b[data-a11y='true']:focus::after{content:'';position:absolute;left:-50%;top:-20%;width:200%;height:160%;border:2px solid var(--theme-ui-colors-accent,#6166DC);background:rgba(255,255,255,0.01);border-radius:5px;}@media (max-width:45.9375em){.css-10tgu6b{margin:0 2.2rem;}}</style><a target="_blank" rel="noopener nofollow" data-a11y="false" aria-label="Link to https://github.com/vzahradnik" href="https://github.com/vzahradnik" class="css-10tgu6b e1dx16qw0"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 0C3.1325 0 0 3.21173 0 7.17706C0 10.3529 2.00375 13.0353 4.78625 13.9863C5.13625 14.0491 5.2675 13.8338 5.2675 13.6454C5.2675 13.4749 5.25875 12.9097 5.25875 12.3087C3.5 12.6406 3.045 11.8691 2.905 11.4653C2.82625 11.259 2.485 10.622 2.1875 10.4516C1.9425 10.317 1.5925 9.98508 2.17875 9.97611C2.73 9.96714 3.12375 10.4964 3.255 10.7118C3.885 11.7973 4.89125 11.4923 5.29375 11.3039C5.355 10.8374 5.53875 10.5234 5.74 10.3439C4.1825 10.1645 2.555 9.54549 2.555 6.80026C2.555 6.01976 2.82625 5.37382 3.2725 4.87143C3.2025 4.692 2.9575 3.95635 3.3425 2.96951C3.3425 2.96951 3.92875 2.78111 5.2675 3.70516C5.8275 3.54367 6.4225 3.46293 7.0175 3.46293C7.6125 3.46293 8.2075 3.54367 8.7675 3.70516C10.1063 2.77214 10.6925 2.96951 10.6925 2.96951C11.0775 3.95635 10.8325 4.692 10.7625 4.87143C11.2087 5.37382 11.48 6.01079 11.48 6.80026C11.48 9.55446 9.84375 10.1645 8.28625 10.3439C8.54 10.5682 8.75875 10.9988 8.75875 11.6717C8.75875 12.6316 8.75 13.4032 8.75 13.6454C8.75 13.8338 8.88125 14.0581 9.23125 13.9863C11.9963 13.0353 14 10.3439 14 7.17706C14 3.21173 10.8675 0 7 0Z" fill="#73737D"></path></svg><style data-emotion-css="mglztx">.css-mglztx{width:0px;height:0px;visibility:hidden;opacity:0;overflow:hidden;display:inline-block;}</style><span class="css-mglztx e1dx16qw1">Link to $<!-- -->https://github.com/vzahradnik</span></a><a target="_blank" rel="noopener nofollow" data-a11y="false" aria-label="Link to https://medium.com/@vladimir.zahradnik" href="https://medium.com/@vladimir.zahradnik" class="css-10tgu6b e1dx16qw0"><svg width="13" height="11" viewBox="0 0 13 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.51041 2.69775C1.51041 2.5415 1.44965 2.40261 1.32812 2.28108L0.15625 0.874837V0.666504H3.82812L6.64061 6.86441L9.11456 0.666504H12.6041V0.874837L11.5885 1.83838C11.5017 1.90782 11.467 2.00331 11.4843 2.12483V9.20815C11.467 9.32968 11.5017 9.42516 11.5885 9.49461L12.5781 10.4581V10.6665H7.63019V10.4581L8.64581 9.46857C8.6979 9.41648 8.72828 9.37742 8.73696 9.35138C8.74564 9.32534 8.74998 9.26891 8.74998 9.18211V3.45296L5.93749 10.6404H5.54686L2.23958 3.45296V8.27065C2.22222 8.47898 2.28298 8.66128 2.42187 8.81753L3.74999 10.4321V10.6404H0V10.4321L1.32812 8.81753C1.48437 8.66128 1.54514 8.47898 1.51041 8.27065V2.69775Z" fill="#73737D"></path></svg><span class="css-mglztx e1dx16qw1">Link to $<!-- -->https://medium.com/@vladimir.zahradnik</span></a><a target="_blank" rel="noopener nofollow" data-a11y="false" aria-label="Link to https://www.youtube.com/channel/UCogZ6qxqKa_WIsw7NnU2IaA" href="https://www.youtube.com/channel/UCogZ6qxqKa_WIsw7NnU2IaA" class="css-10tgu6b e1dx16qw0"><svg width="17" height="12" viewBox="0 0 17 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.1515 0.364084C15.8797 0.560129 16.4538 1.13426 16.6498 1.86243C17.0139 3.19274 16.9999 5.96538 16.9999 5.96538C16.9999 5.96538 16.9999 8.72402 16.6498 10.0543C16.4538 10.7825 15.8797 11.3566 15.1515 11.5527C13.8212 11.9028 8.49996 11.9028 8.49996 11.9028C8.49996 11.9028 3.19274 11.9028 1.84843 11.5387C1.12026 11.3426 0.546126 10.7685 0.350081 10.0403C0 8.72401 0 5.95138 0 5.95138C0 5.95138 0 3.19274 0.350081 1.86243C0.546126 1.13426 1.13426 0.546126 1.84843 0.350081C3.17873 0 8.49996 0 8.49996 0C8.49996 0 13.8212 0 15.1515 0.364084ZM6.80549 3.40298L11.2305 5.95157L6.80549 8.50016V3.40298Z" fill="#73737D"></path></svg><span class="css-mglztx e1dx16qw1">Link to $<!-- -->https://www.youtube.com/channel/UCogZ6qxqKa_WIsw7NnU2IaA</span></a><a target="_blank" rel="noopener nofollow" data-a11y="false" aria-label="Link to https://twitter.com/VladoZahradnik" href="https://twitter.com/VladoZahradnik" class="css-10tgu6b e1dx16qw0"><svg width="16" height="13" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.0658 2.34438C14.7013 1.96349 15.1892 1.3604 15.419 0.641811C14.8244 0.994439 14.1658 1.25056 13.4648 1.3886C12.9034 0.7905 12.1036 0.416748 11.2185 0.416748C9.51888 0.416748 8.14096 1.79461 8.14096 3.49411C8.14096 3.7353 8.16822 3.97019 8.22068 4.19542C5.66301 4.06708 3.39543 2.84191 1.8776 0.980064C1.6127 1.43458 1.46094 1.96322 1.46094 2.52719C1.46094 3.59485 2.00428 4.5368 2.83003 5.08865C2.32553 5.07268 1.85104 4.93425 1.43608 4.70376C1.43586 4.71659 1.43586 4.72949 1.43586 4.74244C1.43586 6.23349 2.49666 7.47732 3.90448 7.75999C3.64622 7.83033 3.37436 7.86792 3.09366 7.86792C2.89537 7.86792 2.70257 7.84866 2.51471 7.81272C2.90629 9.03537 4.0428 9.92509 5.38945 9.94994C4.33623 10.7753 3.00928 11.2673 1.56749 11.2673C1.31911 11.2673 1.07413 11.2528 0.833374 11.2243C2.19527 12.0975 3.81291 12.6069 5.55081 12.6069C11.2113 12.6069 14.3067 7.91763 14.3067 3.85096C14.3067 3.71753 14.3037 3.5848 14.2978 3.45285C14.899 3.01896 15.4208 2.47694 15.8334 1.8598C15.2815 2.10456 14.6884 2.26998 14.0658 2.34438Z" fill="#73737D"></path></svg><span class="css-mglztx e1dx16qw1">Link to $<!-- -->https://twitter.com/VladoZahradnik</span></a><a target="_blank" rel="noopener nofollow" data-a11y="false" aria-label="Link to https://www.linkedin.com/in/vladimirzahradnik" href="https://www.linkedin.com/in/vladimirzahradnik" class="css-10tgu6b e1dx16qw0"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.59615 13.125H0.871552V4.36523H3.59615V13.125ZM2.24847 3.16406C1.81878 3.16406 1.44769 3.00781 1.13519 2.69531C0.822692 2.38281 0.666443 2.01171 0.666443 1.58203C0.666443 1.15234 0.822692 0.781248 1.13519 0.468749C1.44769 0.156249 1.81878 0 2.24847 0C2.67816 0 3.04925 0.156249 3.36175 0.468749C3.67425 0.781248 3.8305 1.15234 3.8305 1.58203C3.8305 2.01171 3.67425 2.38281 3.36175 2.69531C3.04925 3.00781 2.67816 3.16406 2.24847 3.16406ZM13.7915 13.125H11.0669V8.84765C11.0669 8.14452 11.0083 7.63671 10.8911 7.32421C10.6763 6.79687 10.2563 6.5332 9.63134 6.5332C9.00634 6.5332 8.56689 6.76757 8.31298 7.23632C8.11767 7.58788 8.02001 8.10546 8.02001 8.78905V13.125H5.32471V4.36523H7.93212V5.5664H7.96142C8.15673 5.17578 8.46923 4.85351 8.89892 4.59961C9.36767 4.28711 9.91454 4.13086 10.5395 4.13086C11.8091 4.13086 12.6977 4.53125 13.2055 5.33203C13.5962 5.97656 13.7915 6.97265 13.7915 8.3203V13.125Z" fill="#73737D"></path></svg><span class="css-mglztx e1dx16qw1">Link to $<!-- -->https://www.linkedin.com/in/vladimirzahradnik</span></a><a target="_blank" rel="noopener nofollow" data-a11y="false" aria-label="Link to https://www.facebook.com/vzahradnik" href="https://www.facebook.com/vzahradnik" class="css-10tgu6b e1dx16qw0"><svg width="7" height="14" viewBox="0 0 7 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.36849 7.36482H6.35279L6.64986 4.99457H4.36849V3.48124C4.36849 2.79501 4.55373 2.32731 5.5103 2.32731L6.73028 2.32673V0.206821C6.51919 0.17804 5.79505 0.113525 4.95257 0.113525C3.19363 0.113525 1.98943 1.21807 1.98943 3.24662V4.99464H0V7.36488H1.98936V13.4469L4.36849 13.4468V7.36482Z" fill="#73737D"></path></svg><span class="css-mglztx e1dx16qw1">Link to $<!-- -->https://www.facebook.com/vzahradnik</span></a><a target="_blank" rel="noopener nofollow" data-a11y="false" aria-label="Link to https://www.instagram.com/vladimir.zahradnik" href="https://www.instagram.com/vladimir.zahradnik" class="css-10tgu6b e1dx16qw0"><svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M-3.05176e-05 3.97163C-3.05176e-05 1.77803 1.77824 -0.000244141 3.97184 -0.000244141H9.0281C11.2217 -0.000244141 13 1.77802 13 3.97163V9.02788C13 11.2215 11.2217 12.9998 9.0281 12.9998H3.97184C1.77824 12.9998 -3.05176e-05 11.2215 -3.05176e-05 9.02789V3.97163ZM3.97184 1.281C2.48585 1.281 1.28122 2.48564 1.28122 3.97163V9.02789C1.28122 10.5139 2.48585 11.7185 3.97184 11.7185H9.0281C10.5141 11.7185 11.7187 10.5139 11.7187 9.02788V3.97163C11.7187 2.48564 10.5141 1.281 9.0281 1.281H3.97184Z" fill="#73737D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.07483 6.55115C3.07483 4.64454 4.61242 3.09253 6.51702 3.09253C8.42162 3.09253 9.95921 4.64454 9.95921 6.55115C9.95921 8.45776 8.42162 10.0098 6.51702 10.0098C4.61242 10.0098 3.07483 8.45776 3.07483 6.55115ZM6.51702 4.37378C5.32709 4.37378 4.35608 5.34508 4.35608 6.55115C4.35608 7.75722 5.32709 8.72853 6.51702 8.72853C7.70695 8.72853 8.67796 7.75722 8.67796 6.55115C8.67796 5.34508 7.70695 4.37378 6.51702 4.37378Z" fill="#73737D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.95062 3.87075C10.4035 3.87075 10.7706 3.50149 10.7706 3.04597C10.7706 2.59046 10.4035 2.22119 9.95062 2.22119C9.49776 2.22119 9.13065 2.59046 9.13065 3.04597C9.13065 3.50149 9.49776 3.87075 9.95062 3.87075Z" fill="#73737D"></path></svg><span class="css-mglztx e1dx16qw1">Link to $<!-- -->https://www.instagram.com/vladimir.zahradnik</span></a></div></div></section></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script src="https://cookiehub.net/c2/6553fca9.js"></script><script>
                window.addEventListener("load", function() {
                    const cookieNames = {"analytics":"gatsby-plugin-google-analytics-gdpr_cookies-enabled"};
                    const handleCategoryUserInput = function(categoryName, allowed) {
                        var cookieName = cookieNames[categoryName];
                        if (cookieName === undefined) {
                            cookieName = 'gatsby-plugin-cookiehub-banner-' + categoryName + '-allowed';
                        } 
                        const cookieString = cookieName+'=' + allowed + ';path=/';
                        document.cookie = cookieString;
                    };

                    const cpm = {
                        onInitialise: function(status) {
                            for (var i = 0; i < status.categories.length; i++) {
                                var category = status.categories[i];
                                handleCategoryUserInput(category.id, category.value);
                            }
                        },
                        onAllow: function(category) {
                            handleCategoryUserInput(category, true);
                        },
                        onRevoke: function(category) {
                            handleCategoryUserInput(category, false);
                        }
                    };

                    if (window.cookieconsent !== undefined) {
                        window.cookieconsent.initialise(cpm);
                    } else if (window.cookiehub !== undefined) {
                        window.cookiehub.load(cpm);
                    } else {
                        console.log("CookieHub not loaded!");
                    }
                });
            </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/what-does-it-take-to-write-a-good-arduino-library";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6b95750583a341f26750.js"],"app":["/app-6ea4aa9ce8b5f4990bb8.js"],"component---node-modules-narative-gatsby-theme-novela-src-templates-articles-template-tsx":["/component---node-modules-narative-gatsby-theme-novela-src-templates-articles-template-tsx-6a5f604c71302f82ce4b.js"],"component---node-modules-narative-gatsby-theme-novela-src-templates-author-template-tsx":["/component---node-modules-narative-gatsby-theme-novela-src-templates-author-template-tsx-055310c3f326657aa727.js"],"component---src-narative-gatsby-theme-novela-templates-article-template-tsx":["/component---src-narative-gatsby-theme-novela-templates-article-template-tsx-8a86e49079b1e2404ed2.js"],"component---src-pages-404-js":["/component---src-pages-404-js-829b5005d96ccdb19df9.js"]};/*]]>*/</script><script src="/polyfill-6b95750583a341f26750.js" nomodule=""></script><script src="/component---src-narative-gatsby-theme-novela-templates-article-template-tsx-8a86e49079b1e2404ed2.js" async=""></script><script src="/0e7714856bbb34dfc7797cbbee4f33853b2e01ba-8c0ace3441f40b01e24e.js" async=""></script><script src="/commons-1876a5b8a13b61bf8459.js" async=""></script><script src="/f0e45107-02a22ac72de90821f3f0.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-6ea4aa9ce8b5f4990bb8.js" async=""></script><script src="/framework-66de6f443629588fba4e.js" async=""></script><script src="/webpack-runtime-4601630eb1bd89bd8760.js" async=""></script></body></html>